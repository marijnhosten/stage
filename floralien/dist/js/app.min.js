var Animations=function(){"use strict";function t(t,e){var n=$(e),o=140;n.css({width:"0","-webkit-clip-path":"inset(0px 0px 0px 0px)"});var i=setInterval(function(){o-=1,n.css({width:"140px","-webkit-clip-path":"inset(0px "+o+"px 0px 0px)"}),0===o&&(clearInterval(i),n.css({width:"0","-webkit-clip-path":"inset(0px 0px 0px 0px)"}),document.location.href=t)},430)}function e(t,e){t.animate({left:e+"%"},1500,function(){})}function n(t,e,n){t.animate({left:n,top:e+"%"},1500,function(){})}function o(t){t.animate({left:"84%",top:"85%"},2e3)}function i(){if(document.location.href.indexOf("step1_2")>-1)var t=setTimeout(function(){a($("#tutorThumb2"),2,41,250),clearTimeout(t)},8500);if(document.location.href.indexOf("step1_2")>-1)var e=setTimeout(function(){a($("#tutorThumb4"),4,30,165),clearTimeout(e)},11500)}function a(t,e,n,o){r(t,n,e),c(e,o)}function r(t,e,n){s(t,n),l(t,n),t.animate({left:e+"%"},1500)}function l(t,e){var n=0,o=3e3;if(document.location.href.indexOf("step1_2")>-1)var i=setInterval(function(){n=860-t.position().left,$("#tutBlackImg"+e).css({"-webkit-clip-path":"inset(0px "+n+"px 0px 0px)"}),o-=3,0===o&&clearInterval(i)},10)}function c(t,e){var n=$("#tutSlider"+t+" .rangeValue");n.animate({left:e+"%"},1500)}function s(t,e){var n,o=0,i=3e3;if(document.location.href.indexOf("step1_2")>-1)var a=setInterval(function(){n=t.position().left/800*100,1===e&&(o=Math.round(n/100*8+8)),2===e&&(o=Math.round(n/100*5+5)),3===e&&(o=Math.round(n/100*20+10)),4===e&&(o=Math.round(n/100*13+2)),5===e&&(o=Math.floor(Math.round(n/100*514+380))),n>0&&101>n&&$("#tutSlider"+e+" .rangeValue .strong").text(o),i-=30,0===i&&clearInterval(a)},100)}function u(t){$(t[0]).animate({width:"100%"},500);var e=setTimeout(function(){$(t[1]).animate({width:"100%"},500),clearTimeout(e)},100),n=setTimeout(function(){$(t[2]).animate({width:"100%"},500),clearTimeout(n)},200),o=setTimeout(function(){$(t[3]).animate({width:"100%"},500),clearTimeout(o)},300),i=setTimeout(function(){$(t[4]).animate({width:"100%"},500),clearTimeout(i)},400)}function p(t){$(t[0]).animate({width:"100%"},500);var e=setTimeout(function(){$(t[1]).animate({width:"100%"},500),clearTimeout(e)},100),n=setTimeout(function(){$(t[2]).animate({width:"100%"},500),clearTimeout(n)},200),o=setTimeout(function(){$(t[3]).animate({width:"100%"},500),clearTimeout(o)},300),i=setTimeout(function(){$(t[4]).animate({width:"100%"},500),clearTimeout(i)},400);$(t[5]).animate({opacity:1},500);var a=setTimeout(function(){$(t[6]).animate({opacity:1},500),clearTimeout(a)},100),r=setTimeout(function(){$(t[7]).animate({opacity:1},500),clearTimeout(r)},200),l=setTimeout(function(){$(t[8]).animate({opacity:1},500),clearTimeout(l)},300),c=setTimeout(function(){$(t[9]).animate({opacity:1},500),clearTimeout(c)},400)}var m=function(){t("#/","#loadingEnd")},f=function(){var t=$(".scene"),a="21.5%";if(i(),document.location.href.indexOf("step1_2")>-1)var r=setTimeout(function(){e(t,90),e(t,75),e(t,90),clearTimeout(r)},2e3);if(document.location.href.indexOf("step1_2")>-1)var l=setTimeout(function(){n(t,30,a),e(t,40),clearTimeout(l)},7e3);if(document.location.href.indexOf("step1_2")>-1)var c=setTimeout(function(){n(t,65,a),e(t,35),clearTimeout(c)},9500);if(document.location.href.indexOf("step1_2")>-1)var s=setTimeout(function(){o(t),clearTimeout(s)},12500)},d=function(){var t=$(".game");$.each(t,function(){u(t)})},h=function(){var t=$(".end");$.each(t,function(){p(t)})};return{step3Slider:m,tutorialAnimations:f,slideInGame:d,slideInfo:h}}();!function(){"use strict";var t=angular.module("app",["ngRoute","ngAnimate"]);t.config(["$routeProvider",function(t){t.when("/",{templateUrl:"./dist/pages/intro.html",controller:"mainController"}).when("/step1_1",{templateUrl:"./dist/pages/step1_1.html",controller:"mainController"}).when("/step1_2",{templateUrl:"./dist/pages/step1_2.html",controller:"mainController"}).when("/step1_3",{templateUrl:"./dist/pages/step1_3.html",controller:"mainController"}).when("/step2",{templateUrl:"./dist/pages/step2.html",controller:"mainController"}).when("/step3",{templateUrl:"./dist/pages/step3.html",controller:"mainController"}).when("/end",{templateUrl:"./dist/pages/end.html",controller:"mainController"}).otherwise({redirectTo:"/"})}])}();var Slider=function(){"use strict";var t=function(){function t(t){var i=parseFloat(t.target.id.split("g")[1])-1,a="#thumb"+parseFloat(t.target.id.split("g")[1]);e(t,a,i),n(a,i),o(a,i)}function e(t,e,n){var o,i=n+1,a=$(".thumbDrag").css("width").split("p")[0],r=t.pageX-380-a/2;r>-80&&930>r&&($("#thumbDrag"+i).css({left:r}),o=r+a/2-10,$(e).css({left:o})),-60>=r&&($("#thumbDrag"+i).css({left:"-65px"}),o=0,$(e).css({left:o})),r>=910&&($("#thumbDrag"+i).css({left:930}),o=980,$(e).css({left:o}));var l=990-$(e).position().left;$("#blackImg"+i).css({"-webkit-clip-path":"inset(0px "+l+"px 0px 0px)"})}function n(t,e){var n=$("#slider"+ ++e+" .rangeValue"),o=n.position().left,i=$(t).position().left;o>-100&&980>=i&&n.css({left:i-95})}function o(t,e){var n=$(t).position().left/915*100,o=0;0===e&&(o=Math.round(n/100*8+8)),1===e&&(o=Math.round(n/100*5+5)),2===e&&(o=Math.round(n/100*20+10)),3===e&&(o=Math.round(n/100*13+2)),4===e&&(o=Math.floor(Math.round(n/100*514+380))),n>0&&101>n&&$("#slider"+ ++e+" .rangeValue .strong").text(o)}var i=[$("#slider1"),$("#slider2"),$("#slider3"),$("#slider4"),$("#slider5")],a=[$("#thumb1"),$("#thumb2"),$("#thumb3"),$("#thumb4"),$("#thumb5")];interact(".draggable").draggable({inertia:!1,restrict:{restriction:"parent",endOnly:!0,elementRect:{top:0,left:1,bottom:0,right:0}},autoScroll:!1,max:1/0,onmove:t,onend:function(t){}}),interact.maxInteractions(1/0),$.each(a,function(t,a){i[t].on("mousedown",function(i){e(i,a,t),n(a,t),o(a,t)})})},e=function(){$(".endTimer").css({display:"block"})};return{startSliders:t,stopSliders:e}}();!function(){"use strict";var t=function(t,e){function n(){var t=$(".timerKlein");t.text("01:00"),p(59,t)}function o(t){i(t)}function i(t){var e,n,o,i,l;$.each(t,function(t,a){0===t&&(8===a&&(e=0),16>=a&&a>=13&&(e=0),9===a&&(e=1),10===a&&(e=2),11===a&&(e=4),12===a&&(e=5)),1===t&&(5!==a&&6!==a||(n=1),7===a&&(n=2),8===a&&(n=3),9===a&&(n=4),10===a&&(n=5)),2===t&&(18>=a&&(o=1),a>25&&31>a&&(o=2),a>21&&24>a&&(o=3),a>17&&21>a&&(o=4),a>19&&22>a&&(o=5)),3===t&&(a>0&&5>=a&&(i=1),a>5&&10>=a&&(i=2),a>10&&15>=a&&(i=4)),4===t&&(a>200&&400>=a&&(l=1),a>400&&600>=a&&(l=3),a>600&&900>=a&&(l=4))});var c=[e,n,o,i,l],s=c.sort(r),u=s[2];a(u)}function a(t){var e=$(".winningPlant img"),n=$(".vervangingPlant img");$(e[0]).animate({opacity:0},3e3),3!==t&&4!==t||$(n[0]).css({top:"0"}),n[0].src="./dist/images/plant_0"+t+".jpg",3!==t&&4!==t||$(n[0]).css({position:"relative",top:"-40px",height:"650px"}),5===t&&$(n[0]).css({position:"relative",top:"-60px",height:"670px"}),$(n[0]).css({opacity:0}),$(n[0]).animate({opacity:1},3e3)}function r(t,e){return t-e}function l(){var t=localStorage.getItem("clock"),e=localStorage.getItem("rain"),n=localStorage.getItem("temp"),i=localStorage.getItem("sun"),a=localStorage.getItem("co2");Animations.step3Slider(),$(".yourValue #clock").text(t),$(".yourValue #rain").text(e),$(".yourValue #temp").text(n),$(".yourValue #sun").text(i),$(".yourValue #co2").text(a);var r=[parseInt(t),parseInt(e),parseInt(n),parseInt(i),parseInt(a)];o(r)}function c(t){$.ajax({type:"GET",url:"./dist/data/"+t+".json",async:!0,dataType:"json",error:function(t){console.log(t)}}).done(function(t){s(t)})}function s(t){for(var e=0,n=t.length;n>e;e++)$(t[e]["class"]).text(t[e].text),7==e&&$(t[e]["class"]).html("<span>co<sub>2 </sub>").append(t[e].text+"</span>")}function u(){var t=$("#tmrStop"),n=$(".countdown"),o=$(".upsidedown");$(".infoText");e.path().indexOf("step2")>-1&&m(29,n,o,t),n.text("00:30"),o.text("00:30")}function p(t,e){var n,o,i=t,a=setInterval(function(){n=parseInt(i/60,10),o=parseInt(i%60,10),n=10>n?"0"+n:n,o=10>o?"0"+o:o,e.text(n+":"+o),--i<0&&clearInterval(a)},1e3)}function m(t,e,n,o){var i,a,r=t,l=!1,c=setInterval(function(){i=parseInt(r/60,10),a=parseInt(r%60,10),i=10>i?"0"+i:i,a=10>a?"0"+a:a,e.text(i+":"+a),n.text(i+":"+a),--r<0&&(clearInterval(c),f(l))},1e3);o.click(function(){l=!0,clearInterval(c),f(l)})}function f(n){d(),Slider.stopSliders(),n&&t.$apply(function(){e.path("/step3")});var o=setTimeout(function(){clearTimeout(o),n||t.$apply(function(){e.path("/step3")})},2e3)}function d(){localStorage.setItem("clock",$("#clock")[0].innerHTML),localStorage.setItem("rain",$("#rain")[0].innerHTML),localStorage.setItem("temp",$("#temp")[0].innerHTML),localStorage.setItem("sun",$("#sun")[0].innerHTML),localStorage.setItem("co2",$("#co2")[0].innerHTML)}if(-1==e.path().indexOf("step1_")&&(t.page="main"),e.path().indexOf("step1_")>-1&&c(localStorage.getItem("lang")),e.path().indexOf("step2")>-1){$(".logo img").attr("draggable",!1),c(localStorage.getItem("lang")),Slider.startSliders(),Animations.slideInGame();var h=$(".lockScreen");h.css({display:"block"});var g=setTimeout(function(){clearTimeout(g),u(),h.css({display:"none"})},2e3)}e.path().indexOf("step3")>-1&&(c(localStorage.getItem("lang")),l(),Animations.slideInfo(),n()),t["continue"]=function(){$("#end").css({display:"none"})},t.changeView=function(t,n){"false"!==n&&("nl"==n?localStorage.setItem("lang",n):"en"==n&&localStorage.setItem("lang",n)),e.path(t)}};angular.module("app").controller("mainController",["$scope","$location",t])}(),function(){"use strict";var t=function(t,e){var n=$(".lockScreen");if(n.css({display:"block"}),e.path().indexOf("step1_1")>-1){var o=!1;n.one("touchstart",function(){o=!0,clearTimeout(i)});var i=setTimeout(function(){o||(clearTimeout(i),t.$apply(function(){e.path("/step1_2")}))},25e3)}if(e.path().indexOf("step1_2")>-1){Animations.tutorialAnimations();var a=!1;n.one("touchstart",function(){a=!0,clearTimeout(r)});var r=setTimeout(function(){a||(clearTimeout(r),t.$apply(function(){e.path("/step1_3")}))},18e3)}if(e.path().indexOf("step1_3")>-1){var l=!1;n.one("touchstart",function(){l=!0,clearTimeout(c)});var c=setTimeout(function(){l||(clearTimeout(c),t.$apply(function(){e.path("/step2")}))},15e3)}t.nextStep=function(t){e.path(t)}};angular.module("app").controller("progressController",["$scope","$location",t])}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFuaW1hdGlvbnMuanMiLCJhcHAuanMiLCJzbGlkZXJzLmpzIiwiY29udHJvbGxlcnMvbWFpbkNvbnRyb2xsZXIuanMiLCJjb250cm9sbGVycy9wcm9ncmVzc0NvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsiQW5pbWF0aW9ucyIsImdlbmVyaWNTbGlkZXIiLCJuZXh0U3RlcCIsImlkIiwiZmciLCIkIiwidmFsIiwiY3NzIiwid2lkdGgiLCItd2Via2l0LWNsaXAtcGF0aCIsImludGVydmFsSWQiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJkb2N1bWVudCIsImxvY2F0aW9uIiwiaHJlZiIsImRyYWdUb1JpZ2h0Iiwid2hpdGUiLCJkaXN0YW5jZSIsImFuaW1hdGUiLCJsZWZ0IiwicHJlcGFyZUFuaW0iLCJ0b3AiLCJzdGFydExlZnQiLCJmaW5pc2hBbmltIiwic3RhcnRUaHVtYkFuaW1hdGlvbnMiLCJpbmRleE9mIiwiYW5pbTIiLCJzZXRUaW1lb3V0IiwidGh1bWJBbmltYXRpb24iLCJjbGVhclRpbWVvdXQiLCJhbmltNCIsInRodW1iIiwiaW5kZXgiLCJ0aHVtYkRpc3RhbmNlIiwidmFsRGlzdGFuY2UiLCJwb3NpdGlvblRodW1iIiwicG9zaXRpb25SYW5nZVZhbHVlIiwiY2FsY3VsYXRlVmFsdWUiLCJjbGlwU2xpZGVyIiwiY2xpcFZhbHVlIiwiaSIsImludGVydmFsIiwicG9zaXRpb24iLCJ2YWx1ZSIsInBlcmNlbnRhZ2UiLCJyYW5nZVZhbHVlIiwiTWF0aCIsInJvdW5kIiwiZmxvb3IiLCJ0ZXh0Iiwic2xpZGVJbkJsb2NrIiwiYmxvY2tzIiwidG1yMSIsInRtcjIiLCJ0bXIzIiwidG1yNCIsInNsaWRlSW5FbmRibG9jayIsIm9wYWNpdHkiLCJ0bXI2IiwidG1yNyIsInRtcjgiLCJ0bXI5Iiwic3RlcDNTbGlkZXIiLCJ0dXRvcmlhbEFuaW1hdGlvbnMiLCJhbmltMSIsImFuaW0zIiwiZmluaXNoIiwic2xpZGVJbkdhbWUiLCJlYWNoIiwic2xpZGVJbkluZm8iLCJzbGlkZUluZm8iLCJhcHAiLCJhbmd1bGFyIiwibW9kdWxlIiwiY29uZmlnIiwiJHJvdXRlUHJvdmlkZXIiLCJ3aGVuIiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyIiwib3RoZXJ3aXNlIiwicmVkaXJlY3RUbyIsIlNsaWRlciIsIm1ha2VTbGlkZXJzU2xpZGVhYmxlIiwiZHJhZ01vdmVMaXN0ZW5lciIsImUiLCJwYXJzZUZsb2F0IiwidGFyZ2V0Iiwic3BsaXQiLCJ0aHVtYlBvcyIsIm51bWJlciIsImRyYWdnZXJXaWR0aCIsInhQb3MiLCJwYWdlWCIsInJhbmdlTGVmdCIsInRodW1iTGVmdCIsInNsaWRlcnMiLCJ0aHVtYnMiLCJpbnRlcmFjdCIsImRyYWdnYWJsZSIsImluZXJ0aWEiLCJyZXN0cmljdCIsInJlc3RyaWN0aW9uIiwiZW5kT25seSIsImVsZW1lbnRSZWN0IiwiYm90dG9tIiwicmlnaHQiLCJhdXRvU2Nyb2xsIiwibWF4IiwiSW5maW5pdHkiLCJvbm1vdmUiLCJvbmVuZCIsImV2ZW50IiwibWF4SW50ZXJhY3Rpb25zIiwib24iLCJtYWtlU2xpZGVyc1Vuc2xpZGVhYmxlIiwiZGlzcGxheSIsInN0YXJ0U2xpZGVycyIsInN0b3BTbGlkZXJzIiwibWFpbkNvbnRyb2xsZXIiLCIkc2NvcGUiLCIkbG9jYXRpb24iLCJzZXRTbWFsbFRpbWVyIiwidG1yU21hbGwiLCJzdGFydFNtYWxsVGltZXIiLCJsb2FkUGxhbnQiLCJhcnIiLCJjYWxjdWxhdGVTdGFkaWEiLCJob3VycyIsIndhdGVyIiwidGVtcCIsImxpY2h0IiwiY28yIiwib3JpZ2luYWxBcnIiLCJzb3J0ZWRBcnIiLCJzb3J0Iiwic29ydE51bWJlciIsIndpbm5pbmdQbGFudE51bWJlciIsInNob3dZb3VyUGxhbnQiLCJwbGFudE5tYnIiLCJpbWciLCJ2ZXJ2YW5naW5nIiwic3JjIiwiaGVpZ2h0IiwiYSIsImIiLCJmaWxsVmFsdWVzIiwiY2xvY2siLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwicmFpbiIsInN1biIsInBhcnNlSW50IiwibG9hZEpzb24iLCJsYW5nIiwiYWpheCIsInR5cGUiLCJ1cmwiLCJhc3luYyIsImRhdGFUeXBlIiwiZXJyb3IiLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiZG9uZSIsImRhdGEiLCJ1c2VEYXRhIiwibCIsImxlbmd0aCIsImh0bWwiLCJhcHBlbmQiLCJzZXRUaW1lciIsInRtclN0b3AiLCJ0aW1lck5vZGUiLCJ1cHNpZGVkb3duIiwicGF0aCIsInN0YXJ0VGltZXIiLCJkdXJhdGlvbiIsIm1pbnV0ZXMiLCJzZWNvbmRzIiwidGltZXIiLCJpbnRlcnZhbF9pZCIsImNsaWNrIiwiZW5kR2FtZSIsInNhdmVEYXRhIiwiJGFwcGx5IiwidG1yIiwic2V0SXRlbSIsImlubmVySFRNTCIsInBhZ2UiLCJhdHRyIiwibG9ja1NjcmVlbiIsIndhaXQiLCJjaGFuZ2VWaWV3IiwidmlldyIsInByb2dyZXNzQ29udHJvbGxlciIsImNsaWNrT25lIiwib25lIiwiY2xpY2tUd28iLCJjbGlja1RocmVlIl0sIm1hcHBpbmdzIjoiQUFBQSxHQUFBQSxZQUFBLFdBQ0EsWUFNQSxTQUFBQyxHQUFBQyxFQUFBQyxHQUNBLEdBQUFDLEdBQUFDLEVBQUFGLEdBQUFHLEVBQUEsR0FDQUYsR0FBQUcsS0FDQUMsTUFBQSxJQUNBQyxvQkFBQSwwQkFHQSxJQUFBQyxHQUFBQyxZQUFBLFdBQ0FMLEdBQUEsRUFDQUYsRUFBQUcsS0FDQUMsTUFBQSxRQUNBQyxvQkFBQSxhQUFBSCxFQUFBLGdCQUdBLElBQUFBLElBQ0FNLGNBQUFGLEdBQ0FOLEVBQUFHLEtBQ0FDLE1BQUEsSUFDQUMsb0JBQUEsMkJBRUFJLFNBQUFDLFNBQUFDLEtBQUFiLElBRUEsS0E0Q0EsUUFBQWMsR0FBQUMsRUFBQUMsR0FDQUQsRUFBQUUsU0FDQUMsS0FBQUYsRUFBQSxLQUNBLEtBQUEsY0FJQSxRQUFBRyxHQUFBSixFQUFBSyxFQUFBQyxHQUNBTixFQUFBRSxTQUNBQyxLQUFBRyxFQUNBRCxJQUFBQSxFQUFBLEtBQ0EsS0FBQSxjQUtBLFFBQUFFLEdBQUFQLEdBQ0FBLEVBQUFFLFNBQ0FDLEtBQUEsTUFDQUUsSUFBQSxPQUNBLEtBSUEsUUFBQUcsS0FHQSxHQUFBWixTQUFBQyxTQUFBQyxLQUFBVyxRQUFBLFdBQUEsR0FDQSxHQUFBQyxHQUFBQyxXQUFBLFdBQ0FDLEVBQUF4QixFQUFBLGdCQUFBLEVBQUEsR0FBQSxLQUNBeUIsYUFBQUgsSUFDQSxLQVVBLElBQUFkLFNBQUFDLFNBQUFDLEtBQUFXLFFBQUEsV0FBQSxHQUNBLEdBQUFLLEdBQUFILFdBQUEsV0FDQUMsRUFBQXhCLEVBQUEsZ0JBQUEsRUFBQSxHQUFBLEtBQ0F5QixhQUFBQyxJQUNBLE9BV0EsUUFBQUYsR0FBQUcsRUFBQUMsRUFBQUMsRUFBQUMsR0FDQUMsRUFBQUosRUFBQUUsRUFBQUQsR0FDQUksRUFBQUosRUFBQUUsR0FHQSxRQUFBQyxHQUFBSixFQUFBRSxFQUFBRCxHQUVBSyxFQUFBTixFQUFBQyxHQUNBTSxFQUFBUCxFQUFBQyxHQUVBRCxFQUFBYixTQUNBQyxLQUFBYyxFQUFBLEtBQ0EsTUFHQSxRQUFBSyxHQUFBUCxFQUFBQyxHQUVBLEdBQUFPLEdBQUEsRUFBQUMsRUFBQSxHQUVBLElBQUE1QixTQUFBQyxTQUFBQyxLQUFBVyxRQUFBLFdBQUEsR0FDQSxHQUFBZ0IsR0FBQS9CLFlBQUEsV0FFQTZCLEVBQUEsSUFBQVIsRUFBQVcsV0FBQXZCLEtBQ0FmLEVBQUEsZUFBQTRCLEdBQUExQixLQUNBRSxvQkFBQSxhQUFBK0IsRUFBQSxnQkFFQUMsR0FBQSxFQUNBLElBQUFBLEdBQUE3QixjQUFBOEIsSUFHQSxJQUlBLFFBQUFMLEdBQUFKLEVBQUFmLEdBRUEsR0FBQTBCLEdBQUF2QyxFQUFBLGFBQUE0QixFQUFBLGVBRUFXLEdBQUF6QixTQUNBQyxLQUFBRixFQUFBLEtBQ0EsTUFHQSxRQUFBb0IsR0FBQU4sRUFBQUMsR0FFQSxHQUFBWSxHQUFBQyxFQUFBLEVBQUFMLEVBQUEsR0FFQSxJQUFBNUIsU0FBQUMsU0FBQUMsS0FBQVcsUUFBQSxXQUFBLEdBQ0EsR0FBQWdCLEdBQUEvQixZQUFBLFdBRUFrQyxFQUFBYixFQUFBVyxXQUFBdkIsS0FBQSxJQUFBLElBRUEsSUFBQWEsSUFDQWEsRUFBQUMsS0FBQUMsTUFBQUgsRUFBQSxJQUFBLEVBQUEsSUFFQSxJQUFBWixJQUNBYSxFQUFBQyxLQUFBQyxNQUFBSCxFQUFBLElBQUEsRUFBQSxJQUVBLElBQUFaLElBQ0FhLEVBQUFDLEtBQUFDLE1BQUFILEVBQUEsSUFBQSxHQUFBLEtBRUEsSUFBQVosSUFDQWEsRUFBQUMsS0FBQUMsTUFBQUgsRUFBQSxJQUFBLEdBQUEsSUFFQSxJQUFBWixJQUNBYSxFQUFBQyxLQUFBRSxNQUFBRixLQUFBQyxNQUFBSCxFQUFBLElBQUEsSUFBQSxPQUdBQSxFQUFBLEdBQUEsSUFBQUEsR0FDQXhDLEVBQUEsYUFBQTRCLEVBQUEsd0JBQUFpQixLQUFBSixHQUdBTCxHQUFBLEdBRUEsSUFBQUEsR0FBQTdCLGNBQUE4QixJQUNBLEtBYUEsUUFBQVMsR0FBQUMsR0FFQS9DLEVBQUErQyxFQUFBLElBQUFqQyxTQUNBWCxNQUFBLFFBQ0EsSUFFQSxJQUFBNkMsR0FBQXpCLFdBQUEsV0FDQXZCLEVBQUErQyxFQUFBLElBQUFqQyxTQUNBWCxNQUFBLFFBQ0EsS0FDQXNCLGFBQUF1QixJQUNBLEtBRUFDLEVBQUExQixXQUFBLFdBQ0F2QixFQUFBK0MsRUFBQSxJQUFBakMsU0FDQVgsTUFBQSxRQUNBLEtBQ0FzQixhQUFBd0IsSUFDQSxLQUVBQyxFQUFBM0IsV0FBQSxXQUNBdkIsRUFBQStDLEVBQUEsSUFBQWpDLFNBQ0FYLE1BQUEsUUFDQSxLQUNBc0IsYUFBQXlCLElBQ0EsS0FFQUMsRUFBQTVCLFdBQUEsV0FDQXZCLEVBQUErQyxFQUFBLElBQUFqQyxTQUNBWCxNQUFBLFFBQ0EsS0FDQXNCLGFBQUEwQixJQUNBLEtBYUEsUUFBQUMsR0FBQUwsR0FDQS9DLEVBQUErQyxFQUFBLElBQUFqQyxTQUNBWCxNQUFBLFFBQ0EsSUFFQSxJQUFBNkMsR0FBQXpCLFdBQUEsV0FDQXZCLEVBQUErQyxFQUFBLElBQUFqQyxTQUNBWCxNQUFBLFFBQ0EsS0FDQXNCLGFBQUF1QixJQUNBLEtBRUFDLEVBQUExQixXQUFBLFdBQ0F2QixFQUFBK0MsRUFBQSxJQUFBakMsU0FDQVgsTUFBQSxRQUNBLEtBQ0FzQixhQUFBd0IsSUFDQSxLQUVBQyxFQUFBM0IsV0FBQSxXQUNBdkIsRUFBQStDLEVBQUEsSUFBQWpDLFNBQ0FYLE1BQUEsUUFDQSxLQUNBc0IsYUFBQXlCLElBQ0EsS0FFQUMsRUFBQTVCLFdBQUEsV0FDQXZCLEVBQUErQyxFQUFBLElBQUFqQyxTQUNBWCxNQUFBLFFBQ0EsS0FDQXNCLGFBQUEwQixJQUNBLElBSUFuRCxHQUFBK0MsRUFBQSxJQUFBakMsU0FDQXVDLFFBQUEsR0FDQSxJQUlBLElBQUFDLEdBQUEvQixXQUFBLFdBQ0F2QixFQUFBK0MsRUFBQSxJQUFBakMsU0FDQXVDLFFBQUEsR0FDQSxLQUNBNUIsYUFBQTZCLElBQ0EsS0FFQUMsRUFBQWhDLFdBQUEsV0FDQXZCLEVBQUErQyxFQUFBLElBQUFqQyxTQUNBdUMsUUFBQSxHQUNBLEtBQ0E1QixhQUFBOEIsSUFDQSxLQUVBQyxFQUFBakMsV0FBQSxXQUNBdkIsRUFBQStDLEVBQUEsSUFBQWpDLFNBQ0F1QyxRQUFBLEdBQ0EsS0FDQTVCLGFBQUErQixJQUNBLEtBRUFDLEVBQUFsQyxXQUFBLFdBQ0F2QixFQUFBK0MsRUFBQSxJQUFBakMsU0FDQXVDLFFBQUEsR0FDQSxLQUNBNUIsYUFBQWdDLElBQ0EsS0F0VUEsR0FBQUMsR0FBQSxXQUNBOUQsRUFBQSxLQUFBLGdCQTRCQStELEVBQUEsV0FDQSxHQUFBL0MsR0FBQVosRUFBQSxVQUNBa0IsRUFBQSxPQUlBLElBRkFFLElBRUFaLFNBQUFDLFNBQUFDLEtBQUFXLFFBQUEsV0FBQSxHQUNBLEdBQUF1QyxHQUFBckMsV0FBQSxXQUNBWixFQUFBQyxFQUFBLElBQ0FELEVBQUFDLEVBQUEsSUFDQUQsRUFBQUMsRUFBQSxJQUNBYSxhQUFBbUMsSUFDQSxJQUlBLElBQUFwRCxTQUFBQyxTQUFBQyxLQUFBVyxRQUFBLFdBQUEsR0FDQSxHQUFBQyxHQUFBQyxXQUFBLFdBQ0FQLEVBQUFKLEVBQUEsR0FBQU0sR0FDQVAsRUFBQUMsRUFBQSxJQUNBYSxhQUFBSCxJQUNBLElBSUEsSUFBQWQsU0FBQUMsU0FBQUMsS0FBQVcsUUFBQSxXQUFBLEdBQ0EsR0FBQXdDLEdBQUF0QyxXQUFBLFdBQ0FQLEVBQUFKLEVBQUEsR0FBQU0sR0FDQVAsRUFBQUMsRUFBQSxJQUNBYSxhQUFBb0MsSUFDQSxLQUdBLElBQUFyRCxTQUFBQyxTQUFBQyxLQUFBVyxRQUFBLFdBQUEsR0FDQSxHQUFBeUMsR0FBQXZDLFdBQUEsV0FDQUosRUFBQVAsR0FDQWEsYUFBQXFDLElBQ0EsUUEySUFDLEVBQUEsV0FDQSxHQUFBaEIsR0FBQS9DLEVBQUEsUUFFQUEsR0FBQWdFLEtBQUFqQixFQUFBLFdBQ0FELEVBQUFDLE1BMENBa0IsRUFBQSxXQUNBLEdBQUFsQixHQUFBL0MsRUFBQSxPQUNBQSxHQUFBZ0UsS0FBQWpCLEVBQUEsV0FDQUssRUFBQUwsS0EyRUEsUUFDQVcsWUFBQUEsRUFDQUMsbUJBQUFBLEVBQ0FJLFlBQUFBLEVBQ0FHLFVBQUFELE9DaFZBLFdBQ0EsWUFFQSxJQUFBRSxHQUFBQyxRQUFBQyxPQUFBLE9BQUEsVUFBQSxhQUVBRixHQUFBRyxRQUFBLGlCQUFBLFNBQUFDLEdBQ0FBLEVBQ0FDLEtBQUEsS0FDQUMsWUFBQSwwQkFDQUMsV0FBQSxtQkFFQUYsS0FBQSxZQUNBQyxZQUFBLDRCQUNBQyxXQUFBLG1CQUVBRixLQUFBLFlBQ0FDLFlBQUEsNEJBQ0FDLFdBQUEsbUJBRUFGLEtBQUEsWUFDQUMsWUFBQSw0QkFDQUMsV0FBQSxtQkFFQUYsS0FBQSxVQUNBQyxZQUFBLDBCQUNBQyxXQUFBLG1CQUVBRixLQUFBLFVBQ0FDLFlBQUEsMEJBQ0FDLFdBQUEsbUJBRUFGLEtBQUEsUUFDQUMsWUFBQSx3QkFDQUMsV0FBQSxtQkFFQUMsV0FDQUMsV0FBQSxXQ3BDQSxJQUFBQyxRQUFBLFdBRUEsWUFFQSxJQUFBQyxHQUFBLFdBc0JBLFFBQUFDLEdBQUFDLEdBQ0EsR0FBQXBELEdBQUFxRCxXQUFBRCxFQUFBRSxPQUFBcEYsR0FBQXFGLE1BQUEsS0FBQSxJQUFBLEVBQ0F4RCxFQUFBLFNBQUFzRCxXQUFBRCxFQUFBRSxPQUFBcEYsR0FBQXFGLE1BQUEsS0FBQSxHQUVBcEQsR0FBQWlELEVBQUFyRCxFQUFBQyxHQUNBSSxFQUFBTCxFQUFBQyxHQUNBSyxFQUFBTixFQUFBQyxHQWFBLFFBQUFHLEdBQUFpRCxFQUFBckQsRUFBQUMsR0FFQSxHQUdBd0QsR0FIQUMsRUFBQXpELEVBQUEsRUFDQTBELEVBQUF0RixFQUFBLGNBQUFFLElBQUEsU0FBQWlGLE1BQUEsS0FBQSxHQUNBSSxFQUFBUCxFQUFBUSxNQUFBLElBQUFGLEVBQUEsQ0FHQUMsR0FBQSxLQUFBLElBQUFBLElBRUF2RixFQUFBLGFBQUFxRixHQUFBbkYsS0FDQWEsS0FBQXdFLElBRUFILEVBQUFHLEVBQUFELEVBQUEsRUFBQSxHQUNBdEYsRUFBQTJCLEdBQUF6QixLQUFBYSxLQUFBcUUsS0FHQSxLQUFBRyxJQUVBdkYsRUFBQSxhQUFBcUYsR0FBQW5GLEtBQ0FhLEtBQUEsVUFFQXFFLEVBQUEsRUFDQXBGLEVBQUEyQixHQUFBekIsS0FBQWEsS0FBQXFFLEtBSUFHLEdBQUEsTUFFQXZGLEVBQUEsYUFBQXFGLEdBQUFuRixLQUNBYSxLQUFBLE1BRUFxRSxFQUFBLElBQ0FwRixFQUFBMkIsR0FBQXpCLEtBQUFhLEtBQUFxRSxJQUlBLElBQUFqRCxHQUFBLElBQUFuQyxFQUFBMkIsR0FBQVcsV0FBQXZCLElBQ0FmLEdBQUEsWUFBQXFGLEdBQUFuRixLQUNBRSxvQkFBQSxhQUFBK0IsRUFBQSxnQkFNQSxRQUFBSCxHQUFBTCxFQUFBQyxHQUVBLEdBQUFXLEdBQUF2QyxFQUFBLGFBQUE0QixFQUFBLGdCQUNBNkQsRUFBQWxELEVBQUFELFdBQUF2QixLQUNBMkUsRUFBQTFGLEVBQUEyQixHQUFBVyxXQUFBdkIsSUFFQTBFLEdBQUEsTUFDQSxLQUFBQyxHQUNBbkQsRUFBQXJDLEtBQ0FhLEtBQUEyRSxFQUFBLEtBT0EsUUFBQXpELEdBQUFOLEVBQUFDLEdBRUEsR0FBQVksR0FBQXhDLEVBQUEyQixHQUFBVyxXQUFBdkIsS0FBQSxJQUFBLElBQ0EwQixFQUFBLENBRUEsS0FBQWIsSUFDQWEsRUFBQUMsS0FBQUMsTUFBQUgsRUFBQSxJQUFBLEVBQUEsSUFFQSxJQUFBWixJQUNBYSxFQUFBQyxLQUFBQyxNQUFBSCxFQUFBLElBQUEsRUFBQSxJQUVBLElBQUFaLElBQ0FhLEVBQUFDLEtBQUFDLE1BQUFILEVBQUEsSUFBQSxHQUFBLEtBRUEsSUFBQVosSUFDQWEsRUFBQUMsS0FBQUMsTUFBQUgsRUFBQSxJQUFBLEdBQUEsSUFFQSxJQUFBWixJQUNBYSxFQUFBQyxLQUFBRSxNQUFBRixLQUFBQyxNQUFBSCxFQUFBLElBQUEsSUFBQSxPQUdBQSxFQUFBLEdBQUEsSUFBQUEsR0FDQXhDLEVBQUEsYUFBQTRCLEVBQUEsd0JBQUFpQixLQUFBSixHQXpIQSxHQUFBa0QsSUFBQTNGLEVBQUEsWUFBQUEsRUFBQSxZQUFBQSxFQUFBLFlBQUFBLEVBQUEsWUFBQUEsRUFBQSxhQUNBNEYsR0FBQTVGLEVBQUEsV0FBQUEsRUFBQSxXQUFBQSxFQUFBLFdBQUFBLEVBQUEsV0FBQUEsRUFBQSxXQUVBNkYsVUFBQSxjQUFBQyxXQUNBQyxTQUFBLEVBQ0FDLFVBQ0FDLFlBQUEsU0FDQUMsU0FBQSxFQUNBQyxhQUFBbEYsSUFBQSxFQUFBRixLQUFBLEVBQUFxRixPQUFBLEVBQUFDLE1BQUEsSUFFQUMsWUFBQSxFQUNBQyxJQUFBQyxFQUFBQSxFQUNBQyxPQUFBMUIsRUFDQTJCLE1BQUEsU0FBQUMsT0FLQWQsU0FBQWUsZ0JBQUFKLEVBQUFBLEdBWUF4RyxFQUFBZ0UsS0FBQTRCLEVBQUEsU0FBQWhFLEVBQUFELEdBQ0FnRSxFQUFBL0QsR0FBQWlGLEdBQUEsWUFBQSxTQUFBN0IsR0FDQWpELEVBQUFpRCxFQUFBckQsRUFBQUMsR0FDQUksRUFBQUwsRUFBQUMsR0FDQUssRUFBQU4sRUFBQUMsUUE2RkFrRixFQUFBLFdBQ0E5RyxFQUFBLGFBQUFFLEtBQUE2RyxRQUFBLFVBR0EsUUFDQUMsYUFBQWxDLEVBQ0FtQyxZQUFBSCxPQzNJQSxXQUNBLFlBRUEsSUFBQUksR0FBQSxTQUFBQyxFQUFBQyxHQXFDQSxRQUFBQyxLQUNBLEdBQUFDLEdBQUF0SCxFQUFBLGNBRUFzSCxHQUFBekUsS0FBQSxTQUNBMEUsRUFBQSxHQUFBRCxHQUlBLFFBQUFFLEdBQUFDLEdBQ0FDLEVBQUFELEdBR0EsUUFBQUMsR0FBQUQsR0FFQSxHQUFBRSxHQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxDQUVBL0gsR0FBQWdFLEtBQUF5RCxFQUFBLFNBQUE3RixFQUFBVyxHQUNBLElBQUFYLElBQ0EsSUFBQVcsSUFDQW9GLEVBQUEsR0FFQSxJQUFBcEYsR0FBQUEsR0FBQSxLQUNBb0YsRUFBQSxHQUVBLElBQUFwRixJQUNBb0YsRUFBQSxHQUVBLEtBQUFwRixJQUNBb0YsRUFBQSxHQUVBLEtBQUFwRixJQUNBb0YsRUFBQSxHQUVBLEtBQUFwRixJQUNBb0YsRUFBQSxJQUlBLElBQUEvRixJQUNBLElBQUFXLEdBQUEsSUFBQUEsSUFDQXFGLEVBQUEsR0FFQSxJQUFBckYsSUFDQXFGLEVBQUEsR0FFQSxJQUFBckYsSUFDQXFGLEVBQUEsR0FFQSxJQUFBckYsSUFDQXFGLEVBQUEsR0FFQSxLQUFBckYsSUFDQXFGLEVBQUEsSUFJQSxJQUFBaEcsSUFDQSxJQUFBVyxJQUNBc0YsRUFBQSxHQUVBdEYsRUFBQSxJQUFBLEdBQUFBLElBQ0FzRixFQUFBLEdBRUF0RixFQUFBLElBQUEsR0FBQUEsSUFDQXNGLEVBQUEsR0FFQXRGLEVBQUEsSUFBQSxHQUFBQSxJQUNBc0YsRUFBQSxHQUVBdEYsRUFBQSxJQUFBLEdBQUFBLElBQ0FzRixFQUFBLElBSUEsSUFBQWpHLElBQ0FXLEVBQUEsR0FBQSxHQUFBQSxJQUNBdUYsRUFBQSxHQUVBdkYsRUFBQSxHQUFBLElBQUFBLElBQ0F1RixFQUFBLEdBRUF2RixFQUFBLElBQUEsSUFBQUEsSUFDQXVGLEVBQUEsSUFJQSxJQUFBbEcsSUFDQVcsRUFBQSxLQUFBLEtBQUFBLElBQ0F3RixFQUFBLEdBRUF4RixFQUFBLEtBQUEsS0FBQUEsSUFDQXdGLEVBQUEsR0FFQXhGLEVBQUEsS0FBQSxLQUFBQSxJQUNBd0YsRUFBQSxLQU1BLElBQUFDLElBQUFMLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEdBQ0FFLEVBQUFELEVBQUFFLEtBQUFDLEdBQ0FDLEVBQUFILEVBQUEsRUFFQUksR0FBQUQsR0FJQSxRQUFBQyxHQUFBQyxHQUVBLEdBQUFDLEdBQUF2SSxFQUFBLHFCQUNBd0ksRUFBQXhJLEVBQUEsdUJBRUFBLEdBQUF1SSxFQUFBLElBQUF6SCxTQUNBdUMsUUFBQSxHQUNBLEtBRUEsSUFBQWlGLEdBQUEsSUFBQUEsR0FDQXRJLEVBQUF3SSxFQUFBLElBQUF0SSxLQUVBZSxJQUFBLE1BSUF1SCxFQUFBLEdBQUFDLElBQUEsd0JBQUFILEVBQUEsT0FFQSxJQUFBQSxHQUFBLElBQUFBLEdBQ0F0SSxFQUFBd0ksRUFBQSxJQUFBdEksS0FDQW9DLFNBQUEsV0FDQXJCLElBQUEsUUFDQXlILE9BQUEsVUFJQSxJQUFBSixHQUNBdEksRUFBQXdJLEVBQUEsSUFBQXRJLEtBQ0FvQyxTQUFBLFdBQ0FyQixJQUFBLFFBQ0F5SCxPQUFBLFVBSUExSSxFQUFBd0ksRUFBQSxJQUFBdEksS0FDQW1ELFFBQUEsSUFFQXJELEVBQUF3SSxFQUFBLElBQUExSCxTQUNBdUMsUUFBQSxHQUNBLEtBR0EsUUFBQThFLEdBQUFRLEVBQUFDLEdBQ0EsTUFBQUQsR0FBQUMsRUFHQSxRQUFBQyxLQUNBLEdBQUFDLEdBQUFDLGFBQUFDLFFBQUEsU0FDQUMsRUFBQUYsYUFBQUMsUUFBQSxRQUNBbkIsRUFBQWtCLGFBQUFDLFFBQUEsUUFDQUUsRUFBQUgsYUFBQUMsUUFBQSxPQUNBakIsRUFBQWdCLGFBQUFDLFFBQUEsTUFDQXJKLFlBQUErRCxjQUVBMUQsRUFBQSxxQkFBQTZDLEtBQUFpRyxHQUNBOUksRUFBQSxvQkFBQTZDLEtBQUFvRyxHQUNBakosRUFBQSxvQkFBQTZDLEtBQUFnRixHQUNBN0gsRUFBQSxtQkFBQTZDLEtBQUFxRyxHQUNBbEosRUFBQSxtQkFBQTZDLEtBQUFrRixFQUVBLElBQUFOLElBQUEwQixTQUFBTCxHQUFBSyxTQUFBRixHQUFBRSxTQUFBdEIsR0FBQXNCLFNBQUFELEdBQUFDLFNBQUFwQixHQUNBUCxHQUFBQyxHQUdBLFFBQUEyQixHQUFBQyxHQUVBckosRUFBQXNKLE1BQ0FDLEtBQUEsTUFDQUMsSUFBQSxlQUFBSCxFQUFBLFFBQ0FJLE9BQUEsRUFDQUMsU0FBQSxPQUNBQyxNQUFBLFNBQUFDLEdBQ0FDLFFBQUFDLElBQUFGLE1BRUFHLEtBQUEsU0FBQUMsR0FDQUMsRUFBQUQsS0FJQSxRQUFBQyxHQUFBRCxHQUNBLElBQUEsR0FBQTVILEdBQUEsRUFBQThILEVBQUFGLEVBQUFHLE9BQUFELEVBQUE5SCxFQUFBQSxJQUVBcEMsRUFBQWdLLEVBQUE1SCxHQUFBNEgsVUFBQW5ILEtBQUFtSCxFQUFBNUgsR0FBQVMsTUFFQSxHQUFBVCxHQUNBcEMsRUFBQWdLLEVBQUE1SCxHQUFBNEgsVUFBQUksS0FBQSx5QkFBQUMsT0FBQUwsRUFBQTVILEdBQUFTLEtBQUEsV0FLQSxRQUFBeUgsS0FDQSxHQUFBQyxHQUFBdkssRUFBQSxZQUFBd0ssRUFBQXhLLEVBQUEsY0FBQXlLLEVBQUF6SyxFQUFBLGNBQUFBLEdBQUEsWUFFQW9ILEdBQUFzRCxPQUFBckosUUFBQSxTQUFBLElBQ0FzSixFQUFBLEdBQUFILEVBQUFDLEVBQUFGLEdBR0FDLEVBQUEzSCxLQUFBLFNBQ0E0SCxFQUFBNUgsS0FBQSxTQUdBLFFBQUEwRSxHQUFBcUQsRUFBQTdELEdBQ0EsR0FBQThELEdBQUFDLEVBQUFDLEVBQUFILEVBQ0FJLEVBQUExSyxZQUFBLFdBQ0F1SyxFQUFBMUIsU0FBQTRCLEVBQUEsR0FBQSxJQUNBRCxFQUFBM0IsU0FBQTRCLEVBQUEsR0FBQSxJQUVBRixFQUFBLEdBQUFBLEVBQUEsSUFBQUEsRUFBQUEsRUFDQUMsRUFBQSxHQUFBQSxFQUFBLElBQUFBLEVBQUFBLEVBRUEvRCxFQUFBbEUsS0FBQWdJLEVBQUEsSUFBQUMsS0FHQUMsRUFBQSxHQUNBeEssY0FBQXlLLElBRUEsS0FHQSxRQUFBTCxHQUFBQyxFQUFBN0QsRUFBQTBELEVBQUFGLEdBQ0EsR0FBQU0sR0FBQUMsRUFBQUMsRUFBQUgsRUFDQUssR0FBQSxFQUNBRCxFQUFBMUssWUFBQSxXQUNBdUssRUFBQTFCLFNBQUE0QixFQUFBLEdBQUEsSUFDQUQsRUFBQTNCLFNBQUE0QixFQUFBLEdBQUEsSUFFQUYsRUFBQSxHQUFBQSxFQUFBLElBQUFBLEVBQUFBLEVBQ0FDLEVBQUEsR0FBQUEsRUFBQSxJQUFBQSxFQUFBQSxFQUVBL0QsRUFBQWxFLEtBQUFnSSxFQUFBLElBQUFDLEdBQ0FMLEVBQUE1SCxLQUFBZ0ksRUFBQSxJQUFBQyxLQUdBQyxFQUFBLElBQ0F4SyxjQUFBeUssR0FDQUUsRUFBQUQsS0FFQSxJQUVBVixHQUFBVSxNQUFBLFdBQ0FBLEdBQUEsRUFDQTFLLGNBQUF5SyxHQUNBRSxFQUFBRCxLQUlBLFFBQUFDLEdBQUFELEdBRUFFLElBQ0F0RyxPQUFBb0MsY0FFQWdFLEdBQ0E5RCxFQUFBaUUsT0FBQSxXQUNBaEUsRUFBQXNELEtBQUEsV0FLQSxJQUFBVyxHQUFBOUosV0FBQSxXQUNBRSxhQUFBNEosR0FDQUosR0FDQTlELEVBQUFpRSxPQUFBLFdBQ0FoRSxFQUFBc0QsS0FBQSxhQUdBLEtBSUEsUUFBQVMsS0FFQXBDLGFBQUF1QyxRQUFBLFFBQUF0TCxFQUFBLFVBQUEsR0FBQXVMLFdBQ0F4QyxhQUFBdUMsUUFBQSxPQUFBdEwsRUFBQSxTQUFBLEdBQUF1TCxXQUNBeEMsYUFBQXVDLFFBQUEsT0FBQXRMLEVBQUEsU0FBQSxHQUFBdUwsV0FDQXhDLGFBQUF1QyxRQUFBLE1BQUF0TCxFQUFBLFFBQUEsR0FBQXVMLFdBQ0F4QyxhQUFBdUMsUUFBQSxNQUFBdEwsRUFBQSxRQUFBLEdBQUF1TCxXQXJUQSxHQVJBLElBQUFuRSxFQUFBc0QsT0FBQXJKLFFBQUEsWUFDQThGLEVBQUFxRSxLQUFBLFFBR0FwRSxFQUFBc0QsT0FBQXJKLFFBQUEsVUFBQSxJQUNBK0gsRUFBQUwsYUFBQUMsUUFBQSxTQUdBNUIsRUFBQXNELE9BQUFySixRQUFBLFNBQUEsR0FBQSxDQUNBckIsRUFBQSxhQUFBeUwsS0FBQSxhQUFBLEdBQ0FyQyxFQUFBTCxhQUFBQyxRQUFBLFNBQ0FuRSxPQUFBbUMsZUFDQXJILFdBQUFvRSxhQUVBLElBQUEySCxHQUFBMUwsRUFBQSxjQUNBMEwsR0FBQXhMLEtBQUE2RyxRQUFBLFNBRUEsSUFBQTRFLEdBQUFwSyxXQUFBLFdBQ0FFLGFBQUFrSyxHQUNBckIsSUFDQW9CLEVBQUF4TCxLQUFBNkcsUUFBQSxVQUNBLEtBSUFLLEVBQUFzRCxPQUFBckosUUFBQSxTQUFBLEtBQ0ErSCxFQUFBTCxhQUFBQyxRQUFBLFNBQ0FILElBQ0FsSixXQUFBdUUsWUFHQW1ELEtBaVNBRixFQUFBQSxZQUFBLFdBQ0FuSCxFQUFBLFFBQUFFLEtBQUE2RyxRQUFBLFVBR0FJLEVBQUF5RSxXQUFBLFNBQUFDLEVBQUF4QyxHQUVBLFVBQUFBLElBRUEsTUFBQUEsRUFDQU4sYUFBQXVDLFFBQUEsT0FBQWpDLEdBQ0EsTUFBQUEsR0FDQU4sYUFBQXVDLFFBQUEsT0FBQWpDLElBR0FqQyxFQUFBc0QsS0FBQW1CLElBSUF6SCxTQUFBQyxPQUFBLE9BQUFLLFdBQUEsa0JBQUEsU0FBQSxZQUFBd0MsT0N4VkEsV0FDQSxZQUVBLElBQUE0RSxHQUFBLFNBQUEzRSxFQUFBQyxHQUVBLEdBQUFzRSxHQUFBMUwsRUFBQSxjQUdBLElBRkEwTCxFQUFBeEwsS0FBQTZHLFFBQUEsVUFFQUssRUFBQXNELE9BQUFySixRQUFBLFdBQUEsR0FBQSxDQUNBLEdBQUEwSyxJQUFBLENBRUFMLEdBQUFNLElBQUEsYUFBQSxXQUNBRCxHQUFBLEVBQ0F0SyxhQUFBdUIsSUFHQSxJQUFBQSxHQUFBekIsV0FBQSxXQUdBd0ssSUFDQXRLLGFBQUF1QixHQUNBbUUsRUFBQWlFLE9BQUEsV0FDQWhFLEVBQUFzRCxLQUFBLGdCQUdBLE1BR0EsR0FBQXRELEVBQUFzRCxPQUFBckosUUFBQSxXQUFBLEdBQUEsQ0FFQTFCLFdBQUFnRSxvQkFFQSxJQUFBc0ksSUFBQSxDQUVBUCxHQUFBTSxJQUFBLGFBQUEsV0FDQUMsR0FBQSxFQUNBeEssYUFBQXdCLElBR0EsSUFBQUEsR0FBQTFCLFdBQUEsV0FFQTBLLElBQ0F4SyxhQUFBd0IsR0FDQWtFLEVBQUFpRSxPQUFBLFdBQ0FoRSxFQUFBc0QsS0FBQSxnQkFHQSxNQUdBLEdBQUF0RCxFQUFBc0QsT0FBQXJKLFFBQUEsV0FBQSxHQUFBLENBQ0EsR0FBQTZLLElBQUEsQ0FFQVIsR0FBQU0sSUFBQSxhQUFBLFdBQ0FFLEdBQUEsRUFDQXpLLGFBQUF5QixJQUdBLElBQUFBLEdBQUEzQixXQUFBLFdBRUEySyxJQUNBekssYUFBQXlCLEdBQ0FpRSxFQUFBaUUsT0FBQSxXQUNBaEUsRUFBQXNELEtBQUEsY0FHQSxNQUdBdkQsRUFBQXRILFNBQUEsU0FBQWdNLEdBQ0F6RSxFQUFBc0QsS0FBQW1CLElBTUF6SCxTQUFBQyxPQUFBLE9BQUFLLFdBQUEsc0JBQUEsU0FBQSxZQUFBb0giLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBBbmltYXRpb25zID0gKGZ1bmN0aW9uICgpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIHZhciBzdGVwM1NsaWRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZ2VuZXJpY1NsaWRlcihcIiMvXCIsIFwiI2xvYWRpbmdFbmRcIik7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGdlbmVyaWNTbGlkZXIobmV4dFN0ZXAsIGlkKSB7XG4gICAgICAgIHZhciBmZyA9ICQoaWQpLCB2YWwgPSAxNDA7XG4gICAgICAgIGZnLmNzcyh7XG4gICAgICAgICAgICAnd2lkdGgnOiAnMCcsXG4gICAgICAgICAgICBcIi13ZWJraXQtY2xpcC1wYXRoXCI6IFwiaW5zZXQoMHB4IDBweCAwcHggMHB4KVwiXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBpbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFsIC09IDE7XG4gICAgICAgICAgICBmZy5jc3Moe1xuICAgICAgICAgICAgICAgICd3aWR0aCc6ICcxNDBweCcsXG4gICAgICAgICAgICAgICAgXCItd2Via2l0LWNsaXAtcGF0aFwiOiBcImluc2V0KDBweCBcIiArIHZhbCArIFwicHggMHB4IDBweClcIlxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmICh2YWwgPT09IDApIHtcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsSWQpO1xuICAgICAgICAgICAgICAgIGZnLmNzcyh7XG4gICAgICAgICAgICAgICAgICAgICd3aWR0aCc6ICcwJyxcbiAgICAgICAgICAgICAgICAgICAgXCItd2Via2l0LWNsaXAtcGF0aFwiOiBcImluc2V0KDBweCAwcHggMHB4IDBweClcIlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmxvY2F0aW9uLmhyZWYgPSBuZXh0U3RlcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgNDMwKTtcbiAgICB9XG5cbiAgICB2YXIgdHV0b3JpYWxBbmltYXRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgd2hpdGUgPSAkKFwiLnNjZW5lXCIpO1xuICAgICAgICB2YXIgc3RhcnRMZWZ0ID0gXCIyMS41JVwiO1xuXG4gICAgICAgIHN0YXJ0VGh1bWJBbmltYXRpb25zKCk7XG5cbiAgICAgICAgaWYgKGRvY3VtZW50LmxvY2F0aW9uLmhyZWYuaW5kZXhPZihcInN0ZXAxXzJcIikgPiAtMSkge1xuICAgICAgICAgICAgdmFyIGFuaW0xID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZHJhZ1RvUmlnaHQod2hpdGUsIDkwKTtcbiAgICAgICAgICAgICAgICBkcmFnVG9SaWdodCh3aGl0ZSwgNzUpO1xuICAgICAgICAgICAgICAgIGRyYWdUb1JpZ2h0KHdoaXRlLCA5MCk7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGFuaW0xKTtcbiAgICAgICAgICAgIH0sIDIwMDApO1xuICAgICAgICB9XG5cblxuICAgICAgICBpZiAoZG9jdW1lbnQubG9jYXRpb24uaHJlZi5pbmRleE9mKFwic3RlcDFfMlwiKSA+IC0xKSB7XG4gICAgICAgICAgICB2YXIgYW5pbTIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBwcmVwYXJlQW5pbSh3aGl0ZSwgMzAsIHN0YXJ0TGVmdCk7XG4gICAgICAgICAgICAgICAgZHJhZ1RvUmlnaHQod2hpdGUsIDQwKTtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoYW5pbTIpO1xuICAgICAgICAgICAgfSwgNzAwMCk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIGlmIChkb2N1bWVudC5sb2NhdGlvbi5ocmVmLmluZGV4T2YoXCJzdGVwMV8yXCIpID4gLTEpIHtcbiAgICAgICAgICAgIHZhciBhbmltMyA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHByZXBhcmVBbmltKHdoaXRlLCA2NSwgc3RhcnRMZWZ0KTtcbiAgICAgICAgICAgICAgICBkcmFnVG9SaWdodCh3aGl0ZSwgMzUpO1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChhbmltMyk7XG4gICAgICAgICAgICB9LCA5NTAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkb2N1bWVudC5sb2NhdGlvbi5ocmVmLmluZGV4T2YoXCJzdGVwMV8yXCIpID4gLTEpIHtcbiAgICAgICAgICAgIHZhciBmaW5pc2ggPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBmaW5pc2hBbmltKHdoaXRlKTtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoZmluaXNoKTtcbiAgICAgICAgICAgIH0sIDEyNTAwKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBkcmFnVG9SaWdodCh3aGl0ZSwgZGlzdGFuY2UpIHtcbiAgICAgICAgd2hpdGUuYW5pbWF0ZSh7XG4gICAgICAgICAgICBsZWZ0OiBkaXN0YW5jZSArIFwiJVwiXG4gICAgICAgIH0sIDE1MDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJlcGFyZUFuaW0od2hpdGUsIHRvcCwgc3RhcnRMZWZ0KSB7XG4gICAgICAgIHdoaXRlLmFuaW1hdGUoe1xuICAgICAgICAgICAgbGVmdDogc3RhcnRMZWZ0LFxuICAgICAgICAgICAgdG9wOiB0b3AgKyBcIiVcIlxuICAgICAgICB9LCAxNTAwLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZmluaXNoQW5pbSh3aGl0ZSkge1xuICAgICAgICB3aGl0ZS5hbmltYXRlKHtcbiAgICAgICAgICAgIGxlZnQ6ICc4NCUnLFxuICAgICAgICAgICAgdG9wOiAnODUlJ1xuICAgICAgICB9LCAyMDAwKTtcbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIHN0YXJ0VGh1bWJBbmltYXRpb25zKCkge1xuXG5cbiAgICAgICAgaWYgKGRvY3VtZW50LmxvY2F0aW9uLmhyZWYuaW5kZXhPZihcInN0ZXAxXzJcIikgPiAtMSkge1xuICAgICAgICAgICAgdmFyIGFuaW0yID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdGh1bWJBbmltYXRpb24oJChcIiN0dXRvclRodW1iMlwiKSwgMiwgNDEsIDI1MCk7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGFuaW0yKTtcbiAgICAgICAgICAgIH0sIDg1MDApO1xuICAgICAgICB9XG5cbiAgICAgICAgLyppZihkb2N1bWVudC5sb2NhdGlvbi5ocmVmLmluZGV4T2YoXCJzdGVwMV8yXCIpPi0xKSB7XG4gICAgICAgICB2YXIgYW5pbTMgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgIHRodW1iQW5pbWF0aW9uKCQoXCIjdHV0b3JUaHVtYjNcIiksIDMsIDg1LCA2MzApO1xuICAgICAgICAgY2xlYXJUaW1lb3V0KGFuaW0zKTtcbiAgICAgICAgIH0sIDExMDAwKTtcbiAgICAgICAgIH0qL1xuXG4gICAgICAgIGlmIChkb2N1bWVudC5sb2NhdGlvbi5ocmVmLmluZGV4T2YoXCJzdGVwMV8yXCIpID4gLTEpIHtcbiAgICAgICAgICAgIHZhciBhbmltNCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRodW1iQW5pbWF0aW9uKCQoXCIjdHV0b3JUaHVtYjRcIiksIDQsIDMwLCAxNjUpO1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChhbmltNCk7XG4gICAgICAgICAgICB9LCAxMTUwMCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKmlmKGRvY3VtZW50LmxvY2F0aW9uLmhyZWYuaW5kZXhPZihcInN0ZXAxXzJcIik+LTEpIHtcbiAgICAgICAgIHZhciBhbmltNSA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgdGh1bWJBbmltYXRpb24oJChcIiN0dXRvclRodW1iNVwiKSwgNSwgNDAsIDI0MCk7XG4gICAgICAgICBjbGVhclRpbWVvdXQoYW5pbTUpO1xuICAgICAgICAgfSwgMjAwMDApO1xuICAgICAgICAgfSovXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdGh1bWJBbmltYXRpb24odGh1bWIsIGluZGV4LCB0aHVtYkRpc3RhbmNlLCB2YWxEaXN0YW5jZSkge1xuICAgICAgICBwb3NpdGlvblRodW1iKHRodW1iLCB0aHVtYkRpc3RhbmNlLCBpbmRleCk7XG4gICAgICAgIHBvc2l0aW9uUmFuZ2VWYWx1ZShpbmRleCwgdmFsRGlzdGFuY2UpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBvc2l0aW9uVGh1bWIodGh1bWIsIHRodW1iRGlzdGFuY2UsIGluZGV4KSB7XG5cbiAgICAgICAgY2FsY3VsYXRlVmFsdWUodGh1bWIsIGluZGV4KTtcbiAgICAgICAgY2xpcFNsaWRlcih0aHVtYiwgaW5kZXgpO1xuXG4gICAgICAgIHRodW1iLmFuaW1hdGUoe1xuICAgICAgICAgICAgbGVmdDogdGh1bWJEaXN0YW5jZSArIFwiJVwiXG4gICAgICAgIH0sIDE1MDApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNsaXBTbGlkZXIodGh1bWIsIGluZGV4KSB7XG5cbiAgICAgICAgdmFyIGNsaXBWYWx1ZSA9IDAsIGkgPSAzMDAwO1xuXG4gICAgICAgIGlmIChkb2N1bWVudC5sb2NhdGlvbi5ocmVmLmluZGV4T2YoXCJzdGVwMV8yXCIpID4gLTEpIHtcbiAgICAgICAgICAgIHZhciBpbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIGNsaXBWYWx1ZSA9ICg4NjAgLSB0aHVtYi5wb3NpdGlvbigpLmxlZnQpO1xuICAgICAgICAgICAgICAgICQoXCIjdHV0QmxhY2tJbWdcIiArIGluZGV4KS5jc3Moe1xuICAgICAgICAgICAgICAgICAgICBcIi13ZWJraXQtY2xpcC1wYXRoXCI6IFwiaW5zZXQoMHB4IFwiICsgY2xpcFZhbHVlICsgXCJweCAwcHggMHB4KVwiXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaSAtPSAzO1xuICAgICAgICAgICAgICAgIGlmIChpID09PSAwKSBjbGVhckludGVydmFsKGludGVydmFsKTtcblxuXG4gICAgICAgICAgICB9LCAxMCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwb3NpdGlvblJhbmdlVmFsdWUoaW5kZXgsIGRpc3RhbmNlKSB7XG5cbiAgICAgICAgdmFyIHZhbHVlID0gJChcIiN0dXRTbGlkZXJcIiArIGluZGV4ICsgXCIgLnJhbmdlVmFsdWVcIik7XG5cbiAgICAgICAgdmFsdWUuYW5pbWF0ZSh7XG4gICAgICAgICAgICBsZWZ0OiBkaXN0YW5jZSArIFwiJVwiXG4gICAgICAgIH0sIDE1MDApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhbGN1bGF0ZVZhbHVlKHRodW1iLCBpbmRleCkge1xuXG4gICAgICAgIHZhciBwZXJjZW50YWdlLCByYW5nZVZhbHVlID0gMCwgaSA9IDMwMDA7XG5cbiAgICAgICAgaWYgKGRvY3VtZW50LmxvY2F0aW9uLmhyZWYuaW5kZXhPZihcInN0ZXAxXzJcIikgPiAtMSkge1xuICAgICAgICAgICAgdmFyIGludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgcGVyY2VudGFnZSA9IHRodW1iLnBvc2l0aW9uKCkubGVmdCAvIDgwMCAqIDEwMDtcblxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICByYW5nZVZhbHVlID0gTWF0aC5yb3VuZChwZXJjZW50YWdlIC8gMTAwICogKDE2IC0gOCkgKyA4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlVmFsdWUgPSBNYXRoLnJvdW5kKHBlcmNlbnRhZ2UgLyAxMDAgKiAoMTAgLSA1KSArIDUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT09IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2VWYWx1ZSA9IE1hdGgucm91bmQocGVyY2VudGFnZSAvIDEwMCAqICgzMCAtIDEwKSArIDEwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlVmFsdWUgPSBNYXRoLnJvdW5kKHBlcmNlbnRhZ2UgLyAxMDAgKiAoMTUgLSAyKSArIDIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT09IDUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2VWYWx1ZSA9IE1hdGguZmxvb3IoTWF0aC5yb3VuZChwZXJjZW50YWdlIC8gMTAwICogKDg5NCAtIDM4MCkgKyAzODApKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAocGVyY2VudGFnZSA+IDAgJiYgcGVyY2VudGFnZSA8IDEwMSkge1xuICAgICAgICAgICAgICAgICAgICAkKFwiI3R1dFNsaWRlclwiICsgaW5kZXggKyBcIiAucmFuZ2VWYWx1ZSAuc3Ryb25nXCIpLnRleHQocmFuZ2VWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaSAtPSAzMDtcblxuICAgICAgICAgICAgICAgIGlmIChpID09PSAwKSBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgc2xpZGVJbkdhbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBibG9ja3MgPSAkKFwiLmdhbWVcIik7XG5cbiAgICAgICAgJC5lYWNoKGJsb2NrcywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2xpZGVJbkJsb2NrKGJsb2Nrcyk7XG4gICAgICAgIH0pO1xuXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHNsaWRlSW5CbG9jayhibG9ja3MpIHtcblxuICAgICAgICAkKGJsb2Nrc1swXSkuYW5pbWF0ZSh7XG4gICAgICAgICAgICAnd2lkdGgnOiAnMTAwJSdcbiAgICAgICAgfSwgNTAwKTtcblxuICAgICAgICB2YXIgdG1yMSA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJChibG9ja3NbMV0pLmFuaW1hdGUoe1xuICAgICAgICAgICAgICAgICd3aWR0aCc6ICcxMDAlJ1xuICAgICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0bXIxKTtcbiAgICAgICAgfSwgMTAwKTtcblxuICAgICAgICB2YXIgdG1yMiA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJChibG9ja3NbMl0pLmFuaW1hdGUoe1xuICAgICAgICAgICAgICAgICd3aWR0aCc6ICcxMDAlJ1xuICAgICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0bXIyKTtcbiAgICAgICAgfSwgMjAwKTtcblxuICAgICAgICB2YXIgdG1yMyA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJChibG9ja3NbM10pLmFuaW1hdGUoe1xuICAgICAgICAgICAgICAgICd3aWR0aCc6ICcxMDAlJ1xuICAgICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0bXIzKTtcbiAgICAgICAgfSwgMzAwKTtcblxuICAgICAgICB2YXIgdG1yNCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJChibG9ja3NbNF0pLmFuaW1hdGUoe1xuICAgICAgICAgICAgICAgICd3aWR0aCc6ICcxMDAlJ1xuICAgICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0bXI0KTtcbiAgICAgICAgfSwgNDAwKTtcblxuXG4gICAgfVxuXG4gICAgdmFyIHNsaWRlSW5JbmZvID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYmxvY2tzID0gJChcIi5lbmRcIik7XG4gICAgICAgICQuZWFjaChibG9ja3MsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNsaWRlSW5FbmRibG9jayhibG9ja3MpO1xuXG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBzbGlkZUluRW5kYmxvY2soYmxvY2tzKSB7XG4gICAgICAgICQoYmxvY2tzWzBdKS5hbmltYXRlKHtcbiAgICAgICAgICAgICd3aWR0aCc6ICcxMDAlJ1xuICAgICAgICB9LCA1MDApO1xuXG4gICAgICAgIHZhciB0bXIxID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKGJsb2Nrc1sxXSkuYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgJ3dpZHRoJzogJzEwMCUnXG4gICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRtcjEpO1xuICAgICAgICB9LCAxMDApO1xuXG4gICAgICAgIHZhciB0bXIyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKGJsb2Nrc1syXSkuYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgJ3dpZHRoJzogJzEwMCUnXG4gICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRtcjIpO1xuICAgICAgICB9LCAyMDApO1xuXG4gICAgICAgIHZhciB0bXIzID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKGJsb2Nrc1szXSkuYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgJ3dpZHRoJzogJzEwMCUnXG4gICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRtcjMpO1xuICAgICAgICB9LCAzMDApO1xuXG4gICAgICAgIHZhciB0bXI0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKGJsb2Nrc1s0XSkuYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgJ3dpZHRoJzogJzEwMCUnXG4gICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRtcjQpO1xuICAgICAgICB9LCA0MDApO1xuXG5cbiAgICAgICAgLy92YXIgdG1yNSA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAkKGJsb2Nrc1s1XSkuYW5pbWF0ZSh7XG4gICAgICAgICAgICAnb3BhY2l0eSc6IDFcbiAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgLy9jbGVhclRpbWVvdXQodG1yNSk7XG4gICAgICAgIC8vfSwgNTAwKTtcblxuICAgICAgICB2YXIgdG1yNiA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJChibG9ja3NbNl0pLmFuaW1hdGUoe1xuICAgICAgICAgICAgICAgICdvcGFjaXR5JzogMVxuICAgICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0bXI2KTtcbiAgICAgICAgfSwgMTAwKTtcblxuICAgICAgICB2YXIgdG1yNyA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJChibG9ja3NbN10pLmFuaW1hdGUoe1xuICAgICAgICAgICAgICAgICdvcGFjaXR5JzogMVxuICAgICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0bXI3KTtcbiAgICAgICAgfSwgMjAwKTtcblxuICAgICAgICB2YXIgdG1yOCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJChibG9ja3NbOF0pLmFuaW1hdGUoe1xuICAgICAgICAgICAgICAgICdvcGFjaXR5JzogMVxuICAgICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0bXI4KTtcbiAgICAgICAgfSwgMzAwKTtcblxuICAgICAgICB2YXIgdG1yOSA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJChibG9ja3NbOV0pLmFuaW1hdGUoe1xuICAgICAgICAgICAgICAgICdvcGFjaXR5JzogMVxuICAgICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0bXI5KTtcbiAgICAgICAgfSwgNDAwKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBzdGVwM1NsaWRlcjogc3RlcDNTbGlkZXIsXG4gICAgICAgIHR1dG9yaWFsQW5pbWF0aW9uczogdHV0b3JpYWxBbmltYXRpb25zLFxuICAgICAgICBzbGlkZUluR2FtZTogc2xpZGVJbkdhbWUsXG4gICAgICAgIHNsaWRlSW5mbzogc2xpZGVJbkluZm9cbiAgICB9O1xuXG59KSgpO1xuXG5cbiIsIihmdW5jdGlvbiAoKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICB2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoXCJhcHBcIiwgW1wibmdSb3V0ZVwiLCBcIm5nQW5pbWF0ZVwiXSk7XG5cbiAgICBhcHAuY29uZmlnKFtcIiRyb3V0ZVByb3ZpZGVyXCIsIGZ1bmN0aW9uICgkcm91dGVQcm92aWRlcikge1xuICAgICAgICAkcm91dGVQcm92aWRlclxuICAgICAgICAgICAgLndoZW4oXCIvXCIsIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCIuL2Rpc3QvcGFnZXMvaW50cm8uaHRtbFwiLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdtYWluQ29udHJvbGxlcidcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAud2hlbihcIi9zdGVwMV8xXCIsIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCIuL2Rpc3QvcGFnZXMvc3RlcDFfMS5odG1sXCIsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ21haW5Db250cm9sbGVyJ1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC53aGVuKFwiL3N0ZXAxXzJcIiwge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcIi4vZGlzdC9wYWdlcy9zdGVwMV8yLmh0bWxcIixcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBcIm1haW5Db250cm9sbGVyXCJcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAud2hlbihcIi9zdGVwMV8zXCIsIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCIuL2Rpc3QvcGFnZXMvc3RlcDFfMy5odG1sXCIsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogXCJtYWluQ29udHJvbGxlclwiXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLndoZW4oXCIvc3RlcDJcIiwge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcIi4vZGlzdC9wYWdlcy9zdGVwMi5odG1sXCIsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogXCJtYWluQ29udHJvbGxlclwiXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLndoZW4oXCIvc3RlcDNcIiwge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcIi4vZGlzdC9wYWdlcy9zdGVwMy5odG1sXCIsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogXCJtYWluQ29udHJvbGxlclwiXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLndoZW4oXCIvZW5kXCIsIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCIuL2Rpc3QvcGFnZXMvZW5kLmh0bWxcIixcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBcIm1haW5Db250cm9sbGVyXCJcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAub3RoZXJ3aXNlKHtcbiAgICAgICAgICAgICAgICByZWRpcmVjdFRvOiBcIi9cIlxuICAgICAgICAgICAgfSk7XG4gICAgfV0pO1xufSkoKTsiLCJ2YXIgU2xpZGVyID0gKGZ1bmN0aW9uICgpIHtcblxuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgdmFyIG1ha2VTbGlkZXJzU2xpZGVhYmxlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHZhciBzbGlkZXJzID0gWyQoXCIjc2xpZGVyMVwiKSwgJChcIiNzbGlkZXIyXCIpLCAkKFwiI3NsaWRlcjNcIiksICQoXCIjc2xpZGVyNFwiKSwgJChcIiNzbGlkZXI1XCIpXTtcbiAgICAgICAgdmFyIHRodW1icyA9IFskKFwiI3RodW1iMVwiKSwgJChcIiN0aHVtYjJcIiksICQoXCIjdGh1bWIzXCIpLCAkKFwiI3RodW1iNFwiKSwgJChcIiN0aHVtYjVcIildO1xuXG4gICAgICAgIGludGVyYWN0KFwiLmRyYWdnYWJsZVwiKS5kcmFnZ2FibGUoe1xuICAgICAgICAgICAgaW5lcnRpYTogZmFsc2UsXG4gICAgICAgICAgICByZXN0cmljdDoge1xuICAgICAgICAgICAgICAgIHJlc3RyaWN0aW9uOiBcInBhcmVudFwiLFxuICAgICAgICAgICAgICAgIGVuZE9ubHk6IHRydWUsXG4gICAgICAgICAgICAgICAgZWxlbWVudFJlY3Q6IHt0b3A6IDAsIGxlZnQ6IDEsIGJvdHRvbTogMCwgcmlnaHQ6IDB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYXV0b1Njcm9sbDogZmFsc2UsXG4gICAgICAgICAgICBtYXg6IEluZmluaXR5LFxuICAgICAgICAgICAgb25tb3ZlOiBkcmFnTW92ZUxpc3RlbmVyLFxuICAgICAgICAgICAgb25lbmQ6IGZ1bmN0aW9uIChldmVudCkge1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGludGVyYWN0Lm1heEludGVyYWN0aW9ucyhJbmZpbml0eSk7XG5cbiAgICAgICAgZnVuY3Rpb24gZHJhZ01vdmVMaXN0ZW5lcihlKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBwYXJzZUZsb2F0KGUudGFyZ2V0LmlkLnNwbGl0KCdnJylbMV0pIC0gMTtcbiAgICAgICAgICAgIHZhciB0aHVtYiA9IFwiI3RodW1iXCIgKyBwYXJzZUZsb2F0KGUudGFyZ2V0LmlkLnNwbGl0KCdnJylbMV0pO1xuXG4gICAgICAgICAgICBwb3NpdGlvblRodW1iKGUsIHRodW1iLCBpbmRleCk7XG4gICAgICAgICAgICBwb3NpdGlvblJhbmdlVmFsdWUodGh1bWIsIGluZGV4KTtcbiAgICAgICAgICAgIGNhbGN1bGF0ZVZhbHVlKHRodW1iLCBpbmRleCk7XG4gICAgICAgIH1cblxuXG4gICAgICAgICQuZWFjaCh0aHVtYnMsIGZ1bmN0aW9uIChpbmRleCwgdGh1bWIpIHtcbiAgICAgICAgICAgIHNsaWRlcnNbaW5kZXhdLm9uKFwibW91c2Vkb3duXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb25UaHVtYihlLCB0aHVtYiwgaW5kZXgpO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uUmFuZ2VWYWx1ZSh0aHVtYiwgaW5kZXgpO1xuICAgICAgICAgICAgICAgIGNhbGN1bGF0ZVZhbHVlKHRodW1iLCBpbmRleCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cblxuICAgICAgICBmdW5jdGlvbiBwb3NpdGlvblRodW1iKGUsIHRodW1iLCBpbmRleCkge1xuXG4gICAgICAgICAgICB2YXIgbnVtYmVyID0gaW5kZXggKyAxO1xuICAgICAgICAgICAgdmFyIGRyYWdnZXJXaWR0aCA9ICQoXCIudGh1bWJEcmFnXCIpLmNzcygnd2lkdGgnKS5zcGxpdCgncCcpWzBdO1xuICAgICAgICAgICAgdmFyIHhQb3MgPSAoZS5wYWdlWCAtIDM4MCkgLSBkcmFnZ2VyV2lkdGggLyAyO1xuICAgICAgICAgICAgdmFyIHRodW1iUG9zO1xuXG4gICAgICAgICAgICBpZiAoeFBvcyA+IC04MCAmJiB4UG9zIDwgOTMwKSB7XG5cbiAgICAgICAgICAgICAgICAkKFwiI3RodW1iRHJhZ1wiICsgbnVtYmVyKS5jc3Moe1xuICAgICAgICAgICAgICAgICAgICBcImxlZnRcIjogeFBvc1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRodW1iUG9zID0geFBvcyArIGRyYWdnZXJXaWR0aCAvIDIgLSAxMDtcbiAgICAgICAgICAgICAgICAkKHRodW1iKS5jc3Moe1wibGVmdFwiOiB0aHVtYlBvc30pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoeFBvcyA8PSAtNjApIHtcblxuICAgICAgICAgICAgICAgICQoXCIjdGh1bWJEcmFnXCIgKyBudW1iZXIpLmNzcyh7XG4gICAgICAgICAgICAgICAgICAgIFwibGVmdFwiOiBcIi02NXB4XCJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aHVtYlBvcyA9IDA7XG4gICAgICAgICAgICAgICAgJCh0aHVtYikuY3NzKHtcImxlZnRcIjogdGh1bWJQb3N9KTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoeFBvcyA+PSA5MTApIHtcblxuICAgICAgICAgICAgICAgICQoXCIjdGh1bWJEcmFnXCIgKyBudW1iZXIpLmNzcyh7XG4gICAgICAgICAgICAgICAgICAgIFwibGVmdFwiOiA5MzBcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aHVtYlBvcyA9IDk4MDtcbiAgICAgICAgICAgICAgICAkKHRodW1iKS5jc3Moe1wibGVmdFwiOiB0aHVtYlBvc30pO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBjbGlwVmFsdWUgPSAoOTkwIC0gJCh0aHVtYikucG9zaXRpb24oKS5sZWZ0KTtcbiAgICAgICAgICAgICQoXCIjYmxhY2tJbWdcIiArIG51bWJlcikuY3NzKHtcbiAgICAgICAgICAgICAgICBcIi13ZWJraXQtY2xpcC1wYXRoXCI6IFwiaW5zZXQoMHB4IFwiICsgY2xpcFZhbHVlICsgXCJweCAwcHggMHB4KVwiXG4gICAgICAgICAgICB9KTtcblxuXG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBwb3NpdGlvblJhbmdlVmFsdWUodGh1bWIsIGluZGV4KSB7XG5cbiAgICAgICAgICAgIHZhciB2YWx1ZSA9ICQoXCIjc2xpZGVyXCIgKyAoKytpbmRleCkgKyBcIiAucmFuZ2VWYWx1ZVwiKTtcbiAgICAgICAgICAgIHZhciByYW5nZUxlZnQgPSB2YWx1ZS5wb3NpdGlvbigpLmxlZnQ7XG4gICAgICAgICAgICB2YXIgdGh1bWJMZWZ0ID0gJCh0aHVtYikucG9zaXRpb24oKS5sZWZ0O1xuXG4gICAgICAgICAgICBpZiAocmFuZ2VMZWZ0ID4gLTEwMCkge1xuICAgICAgICAgICAgICAgIGlmICh0aHVtYkxlZnQgPD0gOTgwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLmNzcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBcImxlZnRcIjogdGh1bWJMZWZ0IC0gOTVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjYWxjdWxhdGVWYWx1ZSh0aHVtYiwgaW5kZXgpIHtcblxuICAgICAgICAgICAgdmFyIHBlcmNlbnRhZ2UgPSAkKHRodW1iKS5wb3NpdGlvbigpLmxlZnQgLyA5MTUgKiAxMDA7XG4gICAgICAgICAgICB2YXIgcmFuZ2VWYWx1ZSA9IDA7XG5cbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJhbmdlVmFsdWUgPSBNYXRoLnJvdW5kKHBlcmNlbnRhZ2UgLyAxMDAgKiAoMTYgLSA4KSArIDgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGluZGV4ID09PSAxKSB7XG4gICAgICAgICAgICAgICAgcmFuZ2VWYWx1ZSA9IE1hdGgucm91bmQocGVyY2VudGFnZSAvIDEwMCAqICgxMCAtIDUpICsgNSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaW5kZXggPT09IDIpIHtcbiAgICAgICAgICAgICAgICByYW5nZVZhbHVlID0gTWF0aC5yb3VuZChwZXJjZW50YWdlIC8gMTAwICogKDMwIC0gMTApICsgMTApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGluZGV4ID09PSAzKSB7XG4gICAgICAgICAgICAgICAgcmFuZ2VWYWx1ZSA9IE1hdGgucm91bmQocGVyY2VudGFnZSAvIDEwMCAqICgxNSAtIDIpICsgMik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaW5kZXggPT09IDQpIHtcbiAgICAgICAgICAgICAgICByYW5nZVZhbHVlID0gTWF0aC5mbG9vcihNYXRoLnJvdW5kKHBlcmNlbnRhZ2UgLyAxMDAgKiAoODk0IC0gMzgwKSArIDM4MCkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocGVyY2VudGFnZSA+IDAgJiYgcGVyY2VudGFnZSA8IDEwMSkge1xuICAgICAgICAgICAgICAgICQoXCIjc2xpZGVyXCIgKyAoKytpbmRleCkgKyBcIiAucmFuZ2VWYWx1ZSAuc3Ryb25nXCIpLnRleHQocmFuZ2VWYWx1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgbWFrZVNsaWRlcnNVbnNsaWRlYWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJChcIi5lbmRUaW1lclwiKS5jc3Moe1wiZGlzcGxheVwiOiBcImJsb2NrXCJ9KTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3RhcnRTbGlkZXJzOiBtYWtlU2xpZGVyc1NsaWRlYWJsZSxcbiAgICAgICAgc3RvcFNsaWRlcnM6IG1ha2VTbGlkZXJzVW5zbGlkZWFibGVcbiAgICB9O1xufSkoKTtcbiIsIihmdW5jdGlvbiAoKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICB2YXIgbWFpbkNvbnRyb2xsZXIgPSBmdW5jdGlvbiAoJHNjb3BlLCAkbG9jYXRpb24pIHtcblxuXG4gICAgICAgIGlmICgkbG9jYXRpb24ucGF0aCgpLmluZGV4T2YoXCJzdGVwMV9cIikgPT0gLTEpIHtcbiAgICAgICAgICAgICRzY29wZS5wYWdlID0gXCJtYWluXCI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJGxvY2F0aW9uLnBhdGgoKS5pbmRleE9mKFwic3RlcDFfXCIpID4gLTEpIHtcbiAgICAgICAgICAgIGxvYWRKc29uKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwibGFuZ1wiKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJGxvY2F0aW9uLnBhdGgoKS5pbmRleE9mKFwic3RlcDJcIikgPiAtMSkge1xuICAgICAgICAgICAgJChcIi5sb2dvIGltZ1wiKS5hdHRyKFwiZHJhZ2dhYmxlXCIsIGZhbHNlKTtcbiAgICAgICAgICAgIGxvYWRKc29uKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwibGFuZ1wiKSk7XG4gICAgICAgICAgICBTbGlkZXIuc3RhcnRTbGlkZXJzKCk7XG4gICAgICAgICAgICBBbmltYXRpb25zLnNsaWRlSW5HYW1lKCk7XG5cbiAgICAgICAgICAgIHZhciBsb2NrU2NyZWVuID0gJChcIi5sb2NrU2NyZWVuXCIpO1xuICAgICAgICAgICAgbG9ja1NjcmVlbi5jc3MoeydkaXNwbGF5JzogJ2Jsb2NrJ30pO1xuXG4gICAgICAgICAgICB2YXIgd2FpdCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh3YWl0KTtcbiAgICAgICAgICAgICAgICBzZXRUaW1lcigpO1xuICAgICAgICAgICAgICAgIGxvY2tTY3JlZW4uY3NzKHsnZGlzcGxheSc6ICdub25lJ30pO1xuICAgICAgICAgICAgfSwgMjAwMCk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgkbG9jYXRpb24ucGF0aCgpLmluZGV4T2YoXCJzdGVwM1wiKSA+IC0xKSB7XG4gICAgICAgICAgICBsb2FkSnNvbihsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImxhbmdcIikpO1xuICAgICAgICAgICAgZmlsbFZhbHVlcygpO1xuICAgICAgICAgICAgQW5pbWF0aW9ucy5zbGlkZUluZm8oKTtcblxuXG4gICAgICAgICAgICBzZXRTbWFsbFRpbWVyKCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBzZXRTbWFsbFRpbWVyKCkge1xuICAgICAgICAgICAgdmFyIHRtclNtYWxsID0gJChcIi50aW1lcktsZWluXCIpO1xuXG4gICAgICAgICAgICB0bXJTbWFsbC50ZXh0KFwiMDE6MDBcIik7XG4gICAgICAgICAgICBzdGFydFNtYWxsVGltZXIoNTksIHRtclNtYWxsKTtcblxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gbG9hZFBsYW50KGFycikge1xuICAgICAgICAgICAgY2FsY3VsYXRlU3RhZGlhKGFycik7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjYWxjdWxhdGVTdGFkaWEoYXJyKSB7XG5cbiAgICAgICAgICAgIHZhciBob3Vycywgd2F0ZXIsIHRlbXAsIGxpY2h0LCBjbzI7XG5cbiAgICAgICAgICAgICQuZWFjaChhcnIsIGZ1bmN0aW9uIChpbmRleCwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBob3VycyA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDw9IDE2ICYmIHZhbHVlID49IDEzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBob3VycyA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSA5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBob3VycyA9IDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaG91cnMgPSAyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gMTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvdXJzID0gNDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IDEyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBob3VycyA9IDU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSA1IHx8IHZhbHVlID09PSA2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3YXRlciA9IDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSA3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3YXRlciA9IDI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3YXRlciA9IDM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSA5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3YXRlciA9IDQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2F0ZXIgPSA1O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8PSAxOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcCA9IDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gMjUgJiYgdmFsdWUgPCAzMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcCA9IDI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gMjEgJiYgdmFsdWUgPCAyNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcCA9IDM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gMTcgJiYgdmFsdWUgPCAyMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcCA9IDQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gMTkgJiYgdmFsdWUgPCAyMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcCA9IDU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT09IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gMCAmJiB2YWx1ZSA8PSA1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaWNodCA9IDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gNSAmJiB2YWx1ZSA8PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGljaHQgPSAyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA+IDEwICYmIHZhbHVlIDw9IDE1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaWNodCA9IDQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT09IDQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gMjAwICYmIHZhbHVlIDw9IDQwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY28yID0gMTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPiA0MDAgJiYgdmFsdWUgPD0gNjAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbzIgPSAzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA+IDYwMCAmJiB2YWx1ZSA8PSA5MDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvMiA9IDQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2YXIgb3JpZ2luYWxBcnIgPSBbaG91cnMsIHdhdGVyLCB0ZW1wLCBsaWNodCwgY28yXTtcbiAgICAgICAgICAgIHZhciBzb3J0ZWRBcnIgPSBvcmlnaW5hbEFyci5zb3J0KHNvcnROdW1iZXIpO1xuICAgICAgICAgICAgdmFyIHdpbm5pbmdQbGFudE51bWJlciA9IHNvcnRlZEFyclsyXTtcblxuICAgICAgICAgICAgc2hvd1lvdXJQbGFudCh3aW5uaW5nUGxhbnROdW1iZXIpO1xuXG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBzaG93WW91clBsYW50KHBsYW50Tm1icikge1xuXG4gICAgICAgICAgICB2YXIgaW1nID0gJChcIi53aW5uaW5nUGxhbnQgaW1nXCIpO1xuICAgICAgICAgICAgdmFyIHZlcnZhbmdpbmcgPSAkKFwiLnZlcnZhbmdpbmdQbGFudCBpbWdcIik7XG5cbiAgICAgICAgICAgICQoaW1nWzBdKS5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICAnb3BhY2l0eSc6IDBcbiAgICAgICAgICAgIH0sIDMwMDApO1xuXG4gICAgICAgICAgICBpZiAocGxhbnRObWJyID09PSAzIHx8IHBsYW50Tm1iciA9PT0gNCkge1xuICAgICAgICAgICAgICAgICQodmVydmFuZ2luZ1swXSkuY3NzKHtcblxuICAgICAgICAgICAgICAgICAgICAndG9wJzogJzAnXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmVydmFuZ2luZ1swXS5zcmMgPSBcIi4vZGlzdC9pbWFnZXMvcGxhbnRfMFwiICsgcGxhbnRObWJyICsgXCIuanBnXCI7XG5cbiAgICAgICAgICAgIGlmIChwbGFudE5tYnIgPT09IDMgfHwgcGxhbnRObWJyID09PSA0KSB7XG4gICAgICAgICAgICAgICAgJCh2ZXJ2YW5naW5nWzBdKS5jc3Moe1xuICAgICAgICAgICAgICAgICAgICBcInBvc2l0aW9uXCI6IFwicmVsYXRpdmVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0b3BcIjogXCItNDBweFwiLFxuICAgICAgICAgICAgICAgICAgICBcImhlaWdodFwiOiBcIjY1MHB4XCJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHBsYW50Tm1iciA9PT0gNSkge1xuICAgICAgICAgICAgICAgICQodmVydmFuZ2luZ1swXSkuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgXCJwb3NpdGlvblwiOiBcInJlbGF0aXZlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidG9wXCI6IFwiLTYwcHhcIixcbiAgICAgICAgICAgICAgICAgICAgXCJoZWlnaHRcIjogXCI2NzBweFwiXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICQodmVydmFuZ2luZ1swXSkuY3NzKHtcbiAgICAgICAgICAgICAgICAnb3BhY2l0eSc6IDBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgJCh2ZXJ2YW5naW5nWzBdKS5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICAnb3BhY2l0eSc6IDFcbiAgICAgICAgICAgIH0sIDMwMDApO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gc29ydE51bWJlcihhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gYSAtIGI7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBmaWxsVmFsdWVzKCkge1xuICAgICAgICAgICAgdmFyIGNsb2NrID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJjbG9ja1wiKTtcbiAgICAgICAgICAgIHZhciByYWluID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJyYWluXCIpO1xuICAgICAgICAgICAgdmFyIHRlbXAgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInRlbXBcIik7XG4gICAgICAgICAgICB2YXIgc3VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJzdW5cIik7XG4gICAgICAgICAgICB2YXIgY28yID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJjbzJcIik7XG4gICAgICAgICAgICBBbmltYXRpb25zLnN0ZXAzU2xpZGVyKCk7XG5cbiAgICAgICAgICAgICQoXCIueW91clZhbHVlICNjbG9ja1wiKS50ZXh0KGNsb2NrKTtcbiAgICAgICAgICAgICQoXCIueW91clZhbHVlICNyYWluXCIpLnRleHQocmFpbik7XG4gICAgICAgICAgICAkKFwiLnlvdXJWYWx1ZSAjdGVtcFwiKS50ZXh0KHRlbXApO1xuICAgICAgICAgICAgJChcIi55b3VyVmFsdWUgI3N1blwiKS50ZXh0KHN1bik7XG4gICAgICAgICAgICAkKFwiLnlvdXJWYWx1ZSAjY28yXCIpLnRleHQoY28yKTtcblxuICAgICAgICAgICAgdmFyIGFyciA9IFtwYXJzZUludChjbG9jayksIHBhcnNlSW50KHJhaW4pLCBwYXJzZUludCh0ZW1wKSwgcGFyc2VJbnQoc3VuKSwgcGFyc2VJbnQoY28yKV07XG4gICAgICAgICAgICBsb2FkUGxhbnQoYXJyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGxvYWRKc29uKGxhbmcpIHtcblxuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcIkdFVFwiLFxuICAgICAgICAgICAgICAgIHVybDogXCIuL2Rpc3QvZGF0YS9cIiArIGxhbmcgKyBcIi5qc29uXCIsXG4gICAgICAgICAgICAgICAgYXN5bmM6IHRydWUsXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkuZG9uZShmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIHVzZURhdGEoZGF0YSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHVzZURhdGEoZGF0YSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBkYXRhLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXG4gICAgICAgICAgICAgICAgJChkYXRhW2ldLmNsYXNzKS50ZXh0KGRhdGFbaV0udGV4dCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaSA9PSA3KSB7XG4gICAgICAgICAgICAgICAgICAgICQoZGF0YVtpXS5jbGFzcykuaHRtbChcIjxzcGFuPmNvPHN1Yj4yIDwvc3ViPlwiKS5hcHBlbmQoZGF0YVtpXS50ZXh0ICsgXCI8L3NwYW4+XCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHNldFRpbWVyKCkge1xuICAgICAgICAgICAgdmFyIHRtclN0b3AgPSAkKFwiI3RtclN0b3BcIiksIHRpbWVyTm9kZSA9ICQoXCIuY291bnRkb3duXCIpLCB1cHNpZGVkb3duID0gJChcIi51cHNpZGVkb3duXCIpLCBpbmZvVGV4dCA9ICQoXCIuaW5mb1RleHRcIik7XG5cbiAgICAgICAgICAgIGlmICgkbG9jYXRpb24ucGF0aCgpLmluZGV4T2YoXCJzdGVwMlwiKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgc3RhcnRUaW1lcigyOSwgdGltZXJOb2RlLCB1cHNpZGVkb3duLCB0bXJTdG9wKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGltZXJOb2RlLnRleHQoXCIwMDozMFwiKTtcbiAgICAgICAgICAgIHVwc2lkZWRvd24udGV4dChcIjAwOjMwXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gc3RhcnRTbWFsbFRpbWVyKGR1cmF0aW9uLCBkaXNwbGF5KSB7XG4gICAgICAgICAgICB2YXIgdGltZXIgPSBkdXJhdGlvbiwgbWludXRlcywgc2Vjb25kcztcbiAgICAgICAgICAgIHZhciBpbnRlcnZhbF9pZCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBtaW51dGVzID0gcGFyc2VJbnQodGltZXIgLyA2MCwgMTApO1xuICAgICAgICAgICAgICAgIHNlY29uZHMgPSBwYXJzZUludCh0aW1lciAlIDYwLCAxMCk7XG5cbiAgICAgICAgICAgICAgICBtaW51dGVzID0gbWludXRlcyA8IDEwID8gXCIwXCIgKyBtaW51dGVzIDogbWludXRlcztcbiAgICAgICAgICAgICAgICBzZWNvbmRzID0gc2Vjb25kcyA8IDEwID8gXCIwXCIgKyBzZWNvbmRzIDogc2Vjb25kcztcblxuICAgICAgICAgICAgICAgIGRpc3BsYXkudGV4dChtaW51dGVzICsgXCI6XCIgKyBzZWNvbmRzKTtcblxuXG4gICAgICAgICAgICAgICAgaWYgKC0tdGltZXIgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxfaWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gc3RhcnRUaW1lcihkdXJhdGlvbiwgZGlzcGxheSwgdXBzaWRlZG93biwgdG1yU3RvcCkge1xuICAgICAgICAgICAgdmFyIHRpbWVyID0gZHVyYXRpb24sIG1pbnV0ZXMsIHNlY29uZHM7XG4gICAgICAgICAgICB2YXIgY2xpY2sgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBpbnRlcnZhbF9pZCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBtaW51dGVzID0gcGFyc2VJbnQodGltZXIgLyA2MCwgMTApO1xuICAgICAgICAgICAgICAgIHNlY29uZHMgPSBwYXJzZUludCh0aW1lciAlIDYwLCAxMCk7XG5cbiAgICAgICAgICAgICAgICBtaW51dGVzID0gbWludXRlcyA8IDEwID8gXCIwXCIgKyBtaW51dGVzIDogbWludXRlcztcbiAgICAgICAgICAgICAgICBzZWNvbmRzID0gc2Vjb25kcyA8IDEwID8gXCIwXCIgKyBzZWNvbmRzIDogc2Vjb25kcztcblxuICAgICAgICAgICAgICAgIGRpc3BsYXkudGV4dChtaW51dGVzICsgXCI6XCIgKyBzZWNvbmRzKTtcbiAgICAgICAgICAgICAgICB1cHNpZGVkb3duLnRleHQobWludXRlcyArIFwiOlwiICsgc2Vjb25kcyk7XG5cblxuICAgICAgICAgICAgICAgIGlmICgtLXRpbWVyIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsX2lkKTtcbiAgICAgICAgICAgICAgICAgICAgZW5kR2FtZShjbGljayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgMTAwMCk7XG5cbiAgICAgICAgICAgIHRtclN0b3AuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGNsaWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsX2lkKTtcbiAgICAgICAgICAgICAgICBlbmRHYW1lKGNsaWNrKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZW5kR2FtZShjbGljaykge1xuXG4gICAgICAgICAgICBzYXZlRGF0YSgpO1xuICAgICAgICAgICAgU2xpZGVyLnN0b3BTbGlkZXJzKCk7XG5cbiAgICAgICAgICAgIGlmIChjbGljaykge1xuICAgICAgICAgICAgICAgICRzY29wZS4kYXBwbHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL3N0ZXAzJyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgdmFyIHRtciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0bXIpO1xuICAgICAgICAgICAgICAgIGlmICghY2xpY2spIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRhcHBseShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL3N0ZXAzJyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIDIwMDApO1xuXG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBzYXZlRGF0YSgpIHtcblxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJjbG9ja1wiLCAkKFwiI2Nsb2NrXCIpWzBdLmlubmVySFRNTCk7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInJhaW5cIiwgJChcIiNyYWluXCIpWzBdLmlubmVySFRNTCk7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInRlbXBcIiwgJChcIiN0ZW1wXCIpWzBdLmlubmVySFRNTCk7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInN1blwiLCAkKFwiI3N1blwiKVswXS5pbm5lckhUTUwpO1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJjbzJcIiwgJChcIiNjbzJcIilbMF0uaW5uZXJIVE1MKTtcbiAgICAgICAgfVxuXG4gICAgICAgICRzY29wZS5jb250aW51ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQoXCIjZW5kXCIpLmNzcyh7J2Rpc3BsYXknOiAnbm9uZSd9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuY2hhbmdlVmlldyA9IGZ1bmN0aW9uICh2aWV3LCBsYW5nKSB7XG5cbiAgICAgICAgICAgIGlmIChsYW5nICE9PSBcImZhbHNlXCIpIHtcblxuICAgICAgICAgICAgICAgIGlmIChsYW5nID09IFwibmxcIikge1xuICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImxhbmdcIiwgbGFuZyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsYW5nID09IFwiZW5cIikge1xuICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImxhbmdcIiwgbGFuZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgodmlldyk7XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmNvbnRyb2xsZXIoXCJtYWluQ29udHJvbGxlclwiLCBbXCIkc2NvcGVcIiwgXCIkbG9jYXRpb25cIiwgbWFpbkNvbnRyb2xsZXJdKTtcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIHZhciBwcm9ncmVzc0NvbnRyb2xsZXIgPSBmdW5jdGlvbiAoJHNjb3BlLCAkbG9jYXRpb24pIHtcblxuICAgICAgICB2YXIgbG9ja1NjcmVlbiA9ICQoXCIubG9ja1NjcmVlblwiKTtcbiAgICAgICAgbG9ja1NjcmVlbi5jc3MoeydkaXNwbGF5JzogJ2Jsb2NrJ30pO1xuXG4gICAgICAgIGlmICgkbG9jYXRpb24ucGF0aCgpLmluZGV4T2YoXCJzdGVwMV8xXCIpID4gLTEpIHtcbiAgICAgICAgICAgIHZhciBjbGlja09uZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICBsb2NrU2NyZWVuLm9uZShcInRvdWNoc3RhcnRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGNsaWNrT25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodG1yMSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdmFyIHRtcjEgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblxuXG4gICAgICAgICAgICAgICAgaWYgKCFjbGlja09uZSkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodG1yMSk7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS4kYXBwbHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9zdGVwMV8yJyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIDI1MDAwKTtcblxuICAgICAgICB9XG4gICAgICAgIGlmICgkbG9jYXRpb24ucGF0aCgpLmluZGV4T2YoXCJzdGVwMV8yXCIpID4gLTEpIHtcblxuICAgICAgICAgICAgQW5pbWF0aW9ucy50dXRvcmlhbEFuaW1hdGlvbnMoKTtcblxuICAgICAgICAgICAgdmFyIGNsaWNrVHdvID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGxvY2tTY3JlZW4ub25lKFwidG91Y2hzdGFydFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgY2xpY2tUd28gPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0bXIyKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2YXIgdG1yMiA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgaWYgKCFjbGlja1R3bykge1xuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodG1yMik7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS4kYXBwbHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9zdGVwMV8zJyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIDE4MDAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgkbG9jYXRpb24ucGF0aCgpLmluZGV4T2YoXCJzdGVwMV8zXCIpID4gLTEpIHtcbiAgICAgICAgICAgIHZhciBjbGlja1RocmVlID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGxvY2tTY3JlZW4ub25lKFwidG91Y2hzdGFydFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgY2xpY2tUaHJlZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRtcjMpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHZhciB0bXIzID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWNsaWNrVGhyZWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRtcjMpO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJGFwcGx5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvc3RlcDInKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgMTUwMDApO1xuICAgICAgICB9XG5cbiAgICAgICAgJHNjb3BlLm5leHRTdGVwID0gZnVuY3Rpb24gKHZpZXcpIHtcbiAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKHZpZXcpO1xuICAgICAgICB9O1xuXG4gICAgfTtcblxuXG4gICAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuY29udHJvbGxlcihcInByb2dyZXNzQ29udHJvbGxlclwiLCBbXCIkc2NvcGVcIiwgXCIkbG9jYXRpb25cIiwgcHJvZ3Jlc3NDb250cm9sbGVyXSk7XG59KSgpOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
